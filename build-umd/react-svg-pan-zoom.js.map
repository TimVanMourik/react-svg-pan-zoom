{"version":3,"sources":["webpack://ReactSVGPanZoom/webpack/universalModuleDefinition","webpack://ReactSVGPanZoom/webpack/bootstrap","webpack://ReactSVGPanZoom/external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack://ReactSVGPanZoom/./src/constants.js","webpack://ReactSVGPanZoom/external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack://ReactSVGPanZoom/./src/features/common.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/applyToPoint.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromObject.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/identity.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/inverse.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/utils.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/isAffineMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/translate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/transform.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/rotate.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/scale.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/shear.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/skew.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/toString.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/smoothMatrix.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTriangles.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromDefinition.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.autogenerated.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/fromTransformAttribute.js","webpack://ReactSVGPanZoom/./node_modules/transformation-matrix/src/index.js","webpack://ReactSVGPanZoom/./src/features/zoom.js","webpack://ReactSVGPanZoom/./src/features/pan.js","webpack://ReactSVGPanZoom/./src/features/miniature.js","webpack://ReactSVGPanZoom/./src/migration-tips.js","webpack://ReactSVGPanZoom/./src/utils/is.js","webpack://ReactSVGPanZoom/./src/viewer.js","webpack://ReactSVGPanZoom/./src/events/viewer-event.js","webpack://ReactSVGPanZoom/./src/features/interactions.js","webpack://ReactSVGPanZoom/./src/utils/calculateBox.js","webpack://ReactSVGPanZoom/./src/utils/RandomUID.js","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature.jsx","webpack://ReactSVGPanZoom/./src/index.js","webpack://ReactSVGPanZoom/./src/events/event-factory.js","webpack://ReactSVGPanZoom/./src/events/viewer-mouse-event.js","webpack://ReactSVGPanZoom/./src/events/viewer-touch-event.js","webpack://ReactSVGPanZoom/./src/utils/mapRange.js","webpack://ReactSVGPanZoom/./src/utils/ViewBoxParser.js","webpack://ReactSVGPanZoom/./src/features/interactions-touch.js","webpack://ReactSVGPanZoom/./src/ui/cursor-polyfill.js","webpack://ReactSVGPanZoom/./src/ui/border-gradient.js","webpack://ReactSVGPanZoom/./src/utils/getDisplayName.js","webpack://ReactSVGPanZoom/./src/ui/selection.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-cursor.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-pan.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-in.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-zoom-out.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/icon-fit.jsx","webpack://ReactSVGPanZoom/./src/ui-toolbar/toolbar-button.jsx","webpack://ReactSVGPanZoom/./src/ui/detect-touch.js","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-toggle-button.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/icon-arrow.jsx","webpack://ReactSVGPanZoom/./src/ui-miniature/miniature-mask.jsx","webpack://ReactSVGPanZoom/./src/uncontrolled-viewer.js"],"names":["MODE_IDLE","MODE_PANNING","MODE_ZOOMING","TOOL_AUTO","TOOL_NONE","TOOL_PAN","TOOL_ZOOM_IN","TOOL_ZOOM_OUT","POSITION_NONE","POSITION_TOP","POSITION_RIGHT","POSITION_BOTTOM","POSITION_LEFT","ACTION_ZOOM","ACTION_PAN","ALIGN_CENTER","ALIGN_LEFT","ALIGN_RIGHT","ALIGN_TOP","ALIGN_BOTTOM","NULL_POSITION","x","y","INITIAL_VALUE","getSVGPoint","matrix","getCursorPosition","event","boundingRect","left","top","clientX","Math","round","clientY","decompose","scaleFactor","a","translationX","e","translationY","f","setPointOnViewerCenter","viewerWidth","viewerHeight","SVGPointX","SVGPointY","zoomLevel","mode","reset","resetMode","start","end","lessThanScaleFactorMin","scaleFactorMin","d","moreThanScaleFactorMax","scaleFactorMax","isZoomLevelGoingOutOfBounds","limitZoomLevel","scaleLevel","max","min","zoom","SVGPoint","newMatrix","last_action","fitSelection","selectionSVGPointX","selectionSVGPointY","selectionWidth","selectionHeight","scaleX","scaleY","fitToViewer","viewer","SVGAttributes","SVGAlignX","SVGAlignY","SVGMinX","SVGMinY","SVGWidth","SVGHeight","scaleMatrix","translateX","translateY","remainderY","remainderX","translationMatrix","zoomOnViewerCenter","startZooming","updateZooming","cursor","Error","stopZooming","props","startPos","endPos","abs","box","width","height","pan","initialMatrix","delta","panLimit","undefined","x1","y1","x2","y2","moveX","moveY","lastAction","startPanning","updatePanning","stopPanning","autoPanIfNeeded","pointer","deltaX","deltaY","openMiniature","miniatureOpen","closeMiniature","github_base","doc_v1_to_v2","doc_v2_to_v3","tipNoViewer","console","error","tipControlledComponent","tipDeprecatedMiniatureProps","tipDeprecateToolbarProps","printMigrationTipsRelatedToProps","tool","miniaturePosition","miniatureBackground","miniatureWidth","miniatureHeight","toolbarPosition","isNullOrUndefined","value","isEmpty","obj","Object","keys","length","ReactSVGPanZoom","Viewer","process","children","autoPanIsRunning","setAutoPanning","autoPanHover","setAutoPanHover","setTool","setMatrix","setStart","setEnd","setMode","focus","setFocus","pinchPointDistance","setPinchPointDistance","prePinchMode","setPrePinchMode","setMiniatureOpen","setLastAction","ViewerDOM","current","getBoundingClientRect","SVGViewBox","viewBox","hoverBorderRef","requestAnimationFrame","panOnHover","cancelAnimationFrame","inputMatrix","nextValue","preventPanOutside","updateValue","onChangeValue","onZoom","onPan","getValue","version","SVGDeltaX","SVGDeltaY","changeTool","handleViewerEvent","indexOf","target","eventsHandler","click","onClick","dblclick","onDoubleClick","mousemove","onMouseMove","mouseup","onMouseUp","mousedown","onMouseDown","touchstart","onTouchStart","touchmove","onTouchMove","touchend","onTouchEnd","touchcancel","onTouchCancel","onEventHandler","type","CustomToolbar","customToolbar","CustomMiniature","customMiniature","panningWithToolAuto","blockChildEvents","touchAction","detectPinchGesture","style","display","position","className","background","pointerEvents","SVGBackground","SVGStyle","detectAutoPan","toolbarProps","onChangeTool","miniatureProps","propTypes","PropTypes","number","isRequired","func","oneOf","string","object","detectWheel","bool","scaleFactorOnWheel","modifierKeys","array","disableDoubleClickZoomWithToolAuto","oneOfType","element","shape","propName","componentName","prop","types","React","Children","count","join","hasOwnProperty","defaultProps","disableZoomWithToolAuto","Toolbar","Miniature","ViewerEvent","originalEvent","preventDefault","stopPropagation","_cacheDecomposedValue","cursurPosition","forceExit","buttons","modifierKeysReducer","modifierKey","getModifierState","modifierKeyActive","reduce","onWheel","onMouseEnterOrLeave","calculateBox","uid","nextUID","RandomUID","WrappedComponent","setUID","displayName","handleChangeTool","handleFit","isHorizontal","transform","right","bottom","backgroundColor","borderRadius","flexDirection","padding","ratio","zoomToFit","overflow","outline","transition","centerTranslation","eventType","ViewerMouseEvent","ViewerTouchEvent","_cachePoint","point","_cachePoints","touchesToPoints","touches","_cacheChangedPoints","changedTouches","points","i","touch","push","identifier","mapRange","low1","high1","low2","high2","HASH_MAP","parseViewBox","viewBoxString","split","filter","Boolean","map","Number","index","val","acc","hasPinchPointDistance","onMultiTouch","thisPinchPointDistance","sqrt","pow","previousPointDistance","svgPoint","distanceFactor","cancelable","startX","startY","endX","endY","isMultiTouch","shouldResetPinchPointDistance","getTouchPosition","getNextValue","nextValueFn","touchPosition","needPrefix","userAgent","navigator","toLowerCase","isFirefox","isWebkit","prefixID","BorderGradient","direction","_uid","hover","setHover","gradientID","maskID","stroke","fill","mask","opacity","getDisplayName","name","Selection","IconCursor","IconPan","IconZoomIn","IconZoomOut","IconFit","ToolbarButton","change","title","active","margin","color","border","isTouchDevice","window","maxTouchPoints","MiniatureToggleButton","IconArrow","open","MiniatureMask","UncontrolledReactSVGPanZoom","defaultTool","svgProps"],"mappings":"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AAELyB,UAAM,EAANA;AAFK,GAAP;AAID;AAED;;;;;;AAIO,SAASwB,KAAT,GAAiB;AACtB,SAAO;AACLD,QAAI,EAAEhD,oBADD;AAELyB,UAAM,EAAE;AAFH,GAAP;AAID;AAED;;;;;;AAIO,SAASyB,SAAT,GAAqB;AAC1B,SAAO;AACLF,QAAI,EAAEhD,oBADD;AAELmD,SAAK,EAAE/B,wBAFF;AAGLgC,OAAG,EAAEhC;AAHA,GAAP;AAKD,C;;;;;;;;;;AC3FD;AACA;AACA,kBAAkB,OAAO;AACzB,kBAAkB,MAAM;AACxB,aAAa,MAAM;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,kBAAkB,QAAQ;AAC1B,aAAa,QAAQ;AACrB;AACO;AACP;AACA;;;ACxBA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,OAAO;AACnB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP;AACA,gEAAgE,OAAO;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC1BA;AACA;AACA,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACbA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP;;AAEA,SAAS,mBAAmB;;AAE5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpBO;AACP;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEO;AACP;AACA;;;AClB6C;;AAE7C;AACA;AACA,kBAAkB,OAAO;AACzB,YAAY,QAAQ;AACpB;;AAEO;AACP,SAAS,QAAQ;AACjB;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;;;ACtBA;AACA;AACA,cAAc,OAAO;AACrB,oBAAoB,OAAO;AAC3B,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA;AACA,oBAAoB,SAAS;AAC7B,aAAa,OAAO;AACpB;AACO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,SAAS;AAC7B,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC3CqC;AACE;AACA;;AAEvC,OAAO,eAAe;AACtB;AACA;AACA,iBAAiB,OAAO;AACxB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,WAAW,QAAQ,WAAW;AACpC;AACA;;AAEA,SAAS,SAAS;AAClB,IAAI,SAAS;AACb;AACA,IAAI,SAAS;AACb;AACA;;AAEA;AACA;AACA,iBAAiB,OAAO;AACxB,gBAAgB,OAAO;AACvB,gBAAgB,OAAO;AACvB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC3CqC;;AAErC;AACA;AACA,cAAc,OAAO;AACrB,qBAAqB,OAAO;AAC5B,aAAa,OAAO;AACpB;AACO;AACP,MAAM,WAAW;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClBA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfA;AACA,OAAO,MAAM;;AAEb;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,aAAa,OAAO;AACpB;AACO;AACP;AACA;;;AC5BA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO;AACP,SAAS,iBAAQ;AACjB;;AAEA;AACA;AACA,kBAAkB,OAAO;AACzB,aAAa,OAAO;AACpB;AACO,SAAS,iBAAQ;AACxB,mBAAmB,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS,GAAG,SAAS;AACxF;;;ACzBA;AACA;AACA,kBAAkB,OAAO;AACzB,uBAAuB,OAAO;AAC9B,aAAa,OAAO;AACpB;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACfmC;AACI;AACM;;AAE7C;AACA;AACA,cAAc,QAAQ;AACtB,cAAc,QAAQ;AACtB,aAAa,OAAO;AACpB;AACA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,OAAO;AAC3B,uBAAuB,SAAS;;AAEhC;AACA,SAAS,YAAY;AACrB;;;ACpDyC;AACF;AACR;AACK;AACJ;AACD;;AAE/B;AACA;AACA,yCAAyC,SAAS;AAClD,aAAa,SAAS;AACtB;AACA;AACA;AACA,KAAK,+CAA+C;AACpD,KAAK,oCAAoC;AACzC,KAAK,8BAA8B;AACnC,KAAK,4CAA4C;AACjD,KAAK,2BAA2B;AAChC,KAAK,4BAA4B;AACjC,KAAK;AACL;AACA;AACA;AACA,KAAK,qCAAqC;AAC1C,KAAK,uCAAuC;AAC5C,KAAK,qCAAqC;AAC1C,KAAK,8CAA8C;AACnD,KAAK,0CAA0C;AAC/C,KAAK,wCAAwC;AAC7C,KAAK;AACL;AACA;AACO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,UAAU;AAC3B,SAAS;AACT;AACA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;;AAEhD,eAAe,SAAS;;AAExB;AACA;;AAEA,uCAAuC,KAAK;;AAE5C,eAAe,KAAK;;AAEpB;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA,eAAe,SAAS;;AAExB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,OAAO;;AAEtB;AACA;AACA,eAAe,KAAK;;AAEpB;AACA;AACA;AACA;AACA;;;AC3FA;;AAEA;AACA,gBAAgB,0BAA0B;AAC1C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB,EAAE;AACjF,sDAAsD,yBAAyB,EAAE;AACjF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAsD,yBAAyB,EAAE;AACjF,sDAAsD,yBAAyB,EAAE;AACjF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB,yBAAyB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA,gCAAgC;AAChC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,WAAW;AACxC,gCAAgC;AAChC;AACA,iBAAiB,mDAAmD;AACpE;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA,4BAA4B,+BAA+B;AAC3D,4BAA4B,6BAA6B;AACzD,6BAA6B,UAAU;AACvC,kCAAkC,iBAAiB;AACnD,8BAA8B,oBAAoB;AAClD,kCAAkC,6DAA6D;AAC/F,6BAA6B,mBAAmB;;AAEhD;AACA;AACA,8BAA8B,qBAAqB;AACnD;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,uBAAuB,iCAAiC;AACxD;;AAEA;AACA;;AAEA,gCAAgC,QAAQ;;AAExC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,mCAAmC,QAAQ;;AAE3C;AACA;AACA,gDAAgD;AAChD,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA,mBAAmB;AACnB;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAKE;;AAEa;AACf;AACA;AACA,CAAC,EAAC;;;AC16C4D;;AAE9D;AACA;AACA;AACA,2BAA2B,OAAO;AAClC,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,KAAK,qCAAqC;AAC1C,KAAK,8BAA8B;AACnC,KAAK;AACL;AACA;AACA;AACA,IAAI;AACJ;AACO;AACP,SAAS,SAAK;AACd;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA8B;AACF;AACA;AACF;AACD;AACO;AACR;AACD;AACA;AACD;AACI;AACC;AACA;AACI;AACD;AACE;AACQ;;;;;;;;;;;;;;;;;;;;;;;AChBxC;;AAEA;;AAKA;;AACA;;;;;;;;;;AAEA,SAASiC,sBAAT,CAAiC5B,MAAjC,EAAyCW,WAAzC,EAAsDkB,cAAtD,EAAsE;AACpE,SAAOA,cAAc,IAAK7B,MAAM,CAAC8B,CAAP,GAAWnB,WAAZ,IAA4BkB,cAArD;AACD;;A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","file":"react-svg-pan-zoom.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReactSVGPanZoom\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"ReactSVGPanZoom\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__2__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","export const MODE_IDLE = 'idle';\nexport const MODE_PANNING = 'panning';\nexport const MODE_ZOOMING = 'zooming';\n\nexport const TOOL_AUTO = 'auto';\nexport const TOOL_NONE = 'none';\nexport const TOOL_PAN = 'pan';\nexport const TOOL_ZOOM_IN = 'zoom-in';\nexport const TOOL_ZOOM_OUT = 'zoom-out';\n\nexport const POSITION_NONE = 'none';\nexport const POSITION_TOP = 'top';\nexport const POSITION_RIGHT = 'right';\nexport const POSITION_BOTTOM = 'bottom';\nexport const POSITION_LEFT = 'left';\n\nexport const ACTION_ZOOM = 'zoom';\nexport const ACTION_PAN = 'pan';\n\nexport const ALIGN_CENTER = 'center';\nexport const ALIGN_LEFT = 'left';\nexport const ALIGN_RIGHT = 'right';\nexport const ALIGN_TOP = 'top';\nexport const ALIGN_BOTTOM = 'bottom';\n\nexport const NULL_POSITION = {x: null, y: null};\nexport const INITIAL_VALUE = {}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","import {TOOL_NONE, MODE_IDLE, NULL_POSITION} from '../constants';\nimport {\n  identity,\n  fromObject,\n  inverse,\n  applyToPoint,\n  transform,\n  translate,\n  scale\n} from 'transformation-matrix';\n\n/**\n * Export x,y coords relative to SVG\n * @param x\n * @param y\n * @param matrix\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getSVGPoint(x, y, matrix = identity()) {\n  return applyToPoint(inverse(matrix), {x, y});\n}\n\n/**\n * Export x,y coords relative to SVG\n * @param event\n * @param boundingRect\n * @returns {*|{x, y}|{x: number, y: number}}\n */\nexport function getCursorPosition(event, boundingRect) {\n    const {left, top} = boundingRect;\n    const x = event.clientX - Math.round(left);\n    const y = event.clientY - Math.round(top);\n    return {x, y}\n}\n\n/**\n * Decompose matrix to scale and translate\n * @param matrix\n * @returns {{scaleFactor: number, translationX: number, translationY: number}}\n */\nexport function decompose(matrix) {\n  return {\n    scaleFactor: matrix.a,\n    translationX: matrix.e,\n    translationY: matrix.f\n  }\n}\n\n/**\n * @param viewerWidth\n * @param viewerHeight\n * @param SVGPointX\n * @param SVGPointY\n * @param zoomLevel\n * @returns {Object}\n */\nexport function setPointOnViewerCenter(viewerWidth, viewerHeight, SVGPointX, SVGPointY, zoomLevel) {\n  let matrix = transform(\n    translate(-SVGPointX + viewerWidth / 2, -SVGPointY + viewerHeight / 2),   //4\n    translate(SVGPointX, SVGPointY),                                          //3\n    scale(zoomLevel, zoomLevel),                                              //2\n    translate(-SVGPointX, -SVGPointY)                                         //1\n  );\n\n  return {\n    mode: MODE_IDLE,\n    matrix,\n  };\n}\n\n/**\n *\n * @returns {Object}\n */\nexport function reset() {\n  return {\n    mode: MODE_IDLE,\n    matrix: identity()\n  };\n}\n\n/**\n *\n * @returns {Object}\n */\nexport function resetMode() {\n  return {\n    mode: MODE_IDLE,\n    start: NULL_POSITION,\n    end: NULL_POSITION,\n  }\n}\n","/**\n * Calculate a point transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param  point {Point} Point\n * @returns {Point} Point\n */\nexport function applyToPoint (matrix, point) {\n  return Array.isArray(point) ? [\n    matrix.a * point[0] + matrix.c * point[1] + matrix.e,\n    matrix.b * point[0] + matrix.d * point[1] + matrix.f\n  ] : {\n    x: matrix.a * point.x + matrix.c * point.y + matrix.e,\n    y: matrix.b * point.x + matrix.d * point.y + matrix.f\n  }\n}\n\n/**\n * Calculate an array of points transformed with an affine matrix\n * @param matrix {Matrix} Affine Matrix\n * @param points {Point[]} Array of point\n * @returns {Point[]} Array of point\n */\nexport function applyToPoints (matrix, points) {\n  return points.map(point => applyToPoint(matrix, point))\n}\n","/**\n * Extract an affine matrix from an object that contains a,b,c,d,e,f keys\n * Any value could be a float or a string that contains a float\n * @param object {Object} Object that contains a,b,c,d,e,f keys\n * @return {Matrix} Affine Matrix\n */\nexport function fromObject (object) {\n  return {\n    a: parseFloat(object.a),\n    b: parseFloat(object.b),\n    c: parseFloat(object.c),\n    d: parseFloat(object.d),\n    e: parseFloat(object.e),\n    f: parseFloat(object.f)\n  }\n}\n","/**\n * @ignore\n * @type {RegExp}\n */\nconst matrixRegex = /^matrix\\(\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*,\\s*([0-9_+-.e]+)\\s*\\)$/i\n\n/**\n * Parse a string formatted as matrix(a,b,c,d,e,f)\n * @param string {string} String with an affine matrix\n * @returns {Matrix} Affine Matrix\n *\n * @example\n * > fromString('matrix(1,2,3,4,5,6)')\n * {a: 1, b: 2, c: 3, d: 4, c: 5, e: 6}\n */\nexport function fromString (string) {\n  const parsed = string.match(matrixRegex)\n  if (parsed === null || parsed.length < 7) throw new Error(`'${string}' is not a matrix`)\n  return {\n    a: parseFloat(parsed[1]),\n    b: parseFloat(parsed[2]),\n    c: parseFloat(parsed[3]),\n    d: parseFloat(parsed[4]),\n    e: parseFloat(parsed[5]),\n    f: parseFloat(parsed[6])\n  }\n}\n","/**\n * Identity matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function identity () {\n  return {\n    a: 1,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: 1,\n    f: 0\n  }\n}\n","/**\n * Calculate a matrix that is the inverse of the provided matrix\n * @param matrix {Matrix} Affine Matrix\n * @returns {Matrix} Inverted Affine Matrix\n */\nexport function inverse (matrix) {\n  // http://www.wolframalpha.com/input/?i=Inverse+%5B%7B%7Ba,c,e%7D,%7Bb,d,f%7D,%7B0,0,1%7D%7D%5D\n\n  const { a, b, c, d, e, f } = matrix\n\n  const denom = a * d - b * c\n\n  return {\n    a: d / denom,\n    b: b / -denom,\n    c: c / -denom,\n    d: a / denom,\n    e: (d * e - c * f) / -denom,\n    f: (b * e - a * f) / denom\n  }\n}\n","export function isUndefined (val) {\n  return typeof val === 'undefined'\n}\n\nexport function isNumeric (n) {\n  return typeof n === 'number' &&\n    !Number.isNaN(n) &&\n    Number.isFinite(n)\n}\n\nexport function isObject (obj) {\n  return typeof obj === 'object' &&\n    obj !== null &&\n    !Array.isArray(obj)\n}\n\nexport function matchesShape (obj, keys) {\n  return keys.every(key => key in obj)\n}\n","import { isNumeric, isObject } from './utils'\n\n/**\n * Check if the object contain an affine matrix\n * @param object {Object} Generic Plain Object\n * @return {boolean} True if is an object and contains an affine matrix\n */\n\nexport function isAffineMatrix (object) {\n  return isObject(object) &&\n    'a' in object &&\n    isNumeric(object.a) &&\n    'b' in object &&\n    isNumeric(object.b) &&\n    'c' in object &&\n    isNumeric(object.c) &&\n    'd' in object &&\n    isNumeric(object.d) &&\n    'e' in object &&\n    isNumeric(object.e) &&\n    'f' in object &&\n    isNumeric(object.f)\n}\n","/**\n * Calculate a translate matrix\n * @param tx {number} Translation on axis x\n * @param [ty = 0] {number} Translation on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function translate (tx, ty = 0) {\n  return {\n    a: 1,\n    c: 0,\n    e: tx,\n    b: 0,\n    d: 1,\n    f: ty\n  }\n}\n","/**\n * Merge multiple matrices into one\n * @param matrices {Matrix[]} Array of affine matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function transform (...matrices) {\n  matrices = Array.isArray(matrices[0]) ? matrices[0] : matrices\n\n  const multiply = (m1, m2) => {\n    return {\n      a: m1.a * m2.a + m1.c * m2.b,\n      c: m1.a * m2.c + m1.c * m2.d,\n      e: m1.a * m2.e + m1.c * m2.f + m1.e,\n      b: m1.b * m2.a + m1.d * m2.b,\n      d: m1.b * m2.c + m1.d * m2.d,\n      f: m1.b * m2.e + m1.d * m2.f + m1.f\n    }\n  }\n\n  switch (matrices.length) {\n    case 0:\n      throw new Error('no matrices provided')\n\n    case 1:\n      return matrices[0]\n\n    case 2:\n      return multiply(matrices[0], matrices[1])\n\n    default:\n      const [m1, m2, ...rest] = matrices\n      const m = multiply(m1, m2)\n      return transform(m, ...rest)\n  }\n}\n\n/**\n * Merge multiple matrices into one\n * @param matrices {Matrix[]} Array of matrix\n * @returns {Matrix} Affine Matrix\n */\nexport function compose (...matrices) {\n  return transform(...matrices)\n}\n","import { isUndefined } from './utils'\nimport { translate } from './translate'\nimport { transform } from './transform'\n\nconst { cos, sin, PI } = Math\n/**\n * Calculate a rotation matrix\n * @param angle {number} Angle in radians\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotate (angle, cx, cy) {\n  const cosAngle = cos(angle)\n  const sinAngle = sin(angle)\n  const rotationMatrix = {\n    a: cosAngle,\n    c: -sinAngle,\n    e: 0,\n    b: sinAngle,\n    d: cosAngle,\n    f: 0\n  }\n  if (isUndefined(cx) || isUndefined(cy)) {\n    return rotationMatrix\n  }\n\n  return transform([\n    translate(cx, cy),\n    rotationMatrix,\n    translate(-cx, -cy)\n  ])\n}\n\n/**\n * Calculate a rotation matrix with a DEG angle\n * @param angle {number} Angle in degree\n * @param [cx] {number} If (cx,cy) are supplied the rotate is about this point\n * @param [cy] {number} If (cx,cy) are supplied the rotate is about this point\n * @returns {Matrix} Affine Matrix\n */\nexport function rotateDEG (angle, cx = undefined, cy = undefined) {\n  return rotate(angle * PI / 180, cx, cy)\n}\n","import { isUndefined } from './utils'\n\n/**\n * Calculate a scaling matrix\n * @param sx {number} Scaling on axis x\n * @param [sy = sx] {number} Scaling on axis y (default sx)\n * @returns {Matrix} Affine Matrix\n */\nexport function scale (sx, sy = undefined) {\n  if (isUndefined(sy)) sy = sx\n  return {\n    a: sx,\n    c: 0,\n    e: 0,\n    b: 0,\n    d: sy,\n    f: 0\n  }\n}\n","/**\n * Calculate a shear matrix\n * @param shx {number} Shear on axis x\n * @param shy {number} Shear on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function shear (shx, shy) {\n  return {\n    a: 1,\n    c: shx,\n    e: 0,\n    b: shy,\n    d: 1,\n    f: 0\n  }\n}\n","// https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/skew\nconst { tan } = Math\n\n/**\n * Calculate a skew matrix\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skew (ax, ay) {\n  return {\n    a: 1,\n    c: tan(ax),\n    e: 0,\n    b: tan(ay),\n    d: 1,\n    f: 0\n  }\n}\n\n/**\n * Calculate a skew matrix using DEG angles\n * @param ax {number} Skew on axis x\n * @param ay {number} Skew on axis y\n * @returns {Matrix} Affine Matrix\n */\nexport function skewDEG (ax, ay) {\n  return skew(ax * Math.PI / 180, ay * Math.PI / 180)\n}\n","/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toCSS (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toSVG (matrix) {\n  return toString(matrix)\n}\n\n/**\n * Serialize an affine matrix to a string that can be used with CSS or SVG\n * @param matrix {Matrix} Affine Matrix\n * @returns {string} String that contains an affine matrix formatted as matrix(a,b,c,d,e,f)\n */\nexport function toString (matrix) {\n  return `matrix(${matrix.a},${matrix.b},${matrix.c},${matrix.d},${matrix.e},${matrix.f})`\n}\n","/**\n * Rounds all elements of the given matrix using the given precision\n * @param matrix {Matrix} An affine matrix to round\n * @param [precision] {number} A precision to use for Math.round. Defaults to 10000000000 (meaning which rounds to the 10th digit after the comma).\n * @returns {Matrix} The rounded Affine Matrix\n */\nexport function smoothMatrix (matrix, precision = 10000000000) {\n  return {\n    a: Math.round(matrix.a * precision) / precision,\n    b: Math.round(matrix.b * precision) / precision,\n    c: Math.round(matrix.c * precision) / precision,\n    d: Math.round(matrix.d * precision) / precision,\n    e: Math.round(matrix.e * precision) / precision,\n    f: Math.round(matrix.f * precision) / precision\n  }\n}\n","import { inverse } from './inverse'\nimport { transform } from './transform'\nimport { smoothMatrix } from './smoothMatrix'\n\n/**\n * Returns a matrix that transforms a triangle t1 into another triangle t2, or throws an exception if it is impossible.\n * @param t1 {Point[]} Array of points containing the three points for the first triangle\n * @param t2 {Point[]} Array of points containing the three points for the second triangle\n * @returns {Matrix} Matrix which transforms t1 to t2\n * @throws Exception if the matrix becomes not invertible\n */\nexport function fromTriangles (t1, t2) {\n  // point p = first point of the triangle\n  const px1 = t1[0].x != null ? t1[0].x : t1[0][0]\n  const py1 = t1[0].y != null ? t1[0].y : t1[0][1]\n  const px2 = t2[0].x != null ? t2[0].x : t2[0][0]\n  const py2 = t2[0].y != null ? t2[0].y : t2[0][1]\n\n  // point q = second point of the triangle\n  const qx1 = t1[1].x != null ? t1[1].x : t1[1][0]\n  const qy1 = t1[1].y != null ? t1[1].y : t1[1][1]\n  const qx2 = t2[1].x != null ? t2[1].x : t2[1][0]\n  const qy2 = t2[1].y != null ? t2[1].y : t2[1][1]\n\n  // point r = third point of the triangle\n  const rx1 = t1[2].x != null ? t1[2].x : t1[2][0]\n  const ry1 = t1[2].y != null ? t1[2].y : t1[2][1]\n  const rx2 = t2[2].x != null ? t2[2].x : t2[2][0]\n  const ry2 = t2[2].y != null ? t2[2].y : t2[2][1]\n\n  const r1 = {\n    a: px1 - rx1,\n    b: py1 - ry1,\n    c: qx1 - rx1,\n    d: qy1 - ry1,\n    e: rx1,\n    f: ry1\n  }\n  const r2 = {\n    a: px2 - rx2,\n    b: py2 - ry2,\n    c: qx2 - rx2,\n    d: qy2 - ry2,\n    e: rx2,\n    f: ry2\n  }\n\n  const inverseR1 = inverse(r1)\n  const affineMatrix = transform([r2, inverseR1])\n\n  // round the matrix elements to smooth the finite inversion\n  return smoothMatrix(affineMatrix)\n}\n","import { fromObject } from './fromObject'\nimport { translate } from './translate'\nimport { scale } from './scale'\nimport { rotateDEG } from './rotate'\nimport { skewDEG } from './skew'\nimport { shear } from './shear'\n\n/**\n * Converts array of matrix descriptor to array of matrix\n * @param definitionOrArrayOfDefinition {Object[]} Array of object describing the matrix\n * @returns {Matrix[]} Array of matrix\n *\n * @example\n * > fromDefinition([\n *  { type: 'matrix', a:1, b:2, c:3, d:4, e:5, f:6 },\n *  { type: 'translate', tx: 10, ty: 20 },\n *  { type: 'scale', sx: 2, sy: 4 },\n *  { type: 'rotate', angle: 90, cx: 50, cy: 25 },\n *  { type: 'skewX', angle: 45 },\n *  { type: 'skewY',  angle: 45 },\n *  { type: 'shear', shx: 10, shy: 20}\n * ])\n *\n * [\n *  { a: 1, b: 2, c: 3, d: 4, e: 5, f: 6 },\n *  { a: 1, c: 0, e: 10, b: 0, d: 1, f: 20 },\n *  { a: 2, c: 0, e: 0, b: 0, d: 4, f: 0 },\n *  { a: 6.123, c: -1, e: 0, b: 1, d: 6.123, f: 0 },\n *  { a: 1, c: 0.99.., e: 0, b: 0, d: 1, f: 0 },\n *  { a: 1, c: 0, e: 0, b: 0.99, d: 1, f: 0 },\n *  { a: 1, c: 10, e: 0, b: 20, d: 1, f: 0 }\n * ]\n **/\nexport function fromDefinition (definitionOrArrayOfDefinition) {\n  return Array.isArray(definitionOrArrayOfDefinition)\n    ? definitionOrArrayOfDefinition.map(mapper)\n    : mapper(definitionOrArrayOfDefinition)\n\n  function mapper (descriptor) {\n    switch (descriptor.type) {\n      case 'matrix':\n        if ('a' in descriptor &&\n          'b' in descriptor &&\n          'c' in descriptor &&\n          'd' in descriptor &&\n          'e' in descriptor &&\n          'f' in descriptor\n        ) {\n          return fromObject(descriptor)\n        } else {\n          throw new Error('MISSING_MANDATORY_PARAM')\n        }\n\n      case 'translate':\n        if (!('tx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('ty' in descriptor) return translate(descriptor.tx, descriptor.ty)\n\n        return translate(descriptor.tx)\n\n      case 'scale':\n        if (!('sx' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('sy' in descriptor) return scale(descriptor.sx, descriptor.sy)\n\n        return scale(descriptor.sx)\n\n      case 'rotate':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n\n        if ('cx' in descriptor && 'cy' in descriptor) {\n          return rotateDEG(descriptor.angle, descriptor.cx, descriptor.cy)\n        }\n        return rotateDEG(descriptor.angle)\n\n      case 'skewX':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(descriptor.angle, 0)\n\n      case 'skewY':\n        if (!('angle' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return skewDEG(0, descriptor.angle)\n\n      case 'shear':\n        if (!('shx' in descriptor && 'shy' in descriptor)) throw new Error('MISSING_MANDATORY_PARAM')\n        return shear(descriptor.shx, descriptor.shy)\n\n      default:\n        throw new Error('UNSUPPORTED_DESCRIPTOR')\n    }\n  }\n}\n","// Generated by PEG.js v0.11.0-master.30f3260, https://pegjs.org/\n\nfunction peg$subclass(child, parent) {\n  function C() { this.constructor = child; }\n  C.prototype = parent.prototype;\n  child.prototype = new C();\n}\n\nfunction peg$SyntaxError(message, expected, found, location) {\n  this.message = message;\n  this.expected = expected;\n  this.found = found;\n  this.location = location;\n  this.name = \"SyntaxError\";\n\n  // istanbul ignore next\n  if (typeof Error.captureStackTrace === \"function\") {\n    Error.captureStackTrace(this, peg$SyntaxError);\n  }\n}\n\npeg$subclass(peg$SyntaxError, Error);\n\npeg$SyntaxError.buildMessage = function(expected, found) {\n  var DESCRIBE_EXPECTATION_FNS = {\n    literal: function(expectation) {\n      return \"\\\"\" + literalEscape(expectation.text) + \"\\\"\";\n    },\n\n    class: function(expectation) {\n      var escapedParts = expectation.parts.map(function(part) {\n        return Array.isArray(part)\n          ? classEscape(part[0]) + \"-\" + classEscape(part[1])\n          : classEscape(part);\n      });\n\n      return \"[\" + (expectation.inverted ? \"^\" : \"\") + escapedParts + \"]\";\n    },\n\n    any: function() {\n      return \"any character\";\n    },\n\n    end: function() {\n      return \"end of input\";\n    },\n\n    other: function(expectation) {\n      return expectation.description;\n    },\n\n    not: function(expectation) {\n      return \"not \" + describeExpectation(expectation.expected);\n    }\n  };\n\n  function hex(ch) {\n    return ch.charCodeAt(0).toString(16).toUpperCase();\n  }\n\n  function literalEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\"/g,  \"\\\\\\\"\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function classEscape(s) {\n    return s\n      .replace(/\\\\/g, \"\\\\\\\\\")\n      .replace(/\\]/g, \"\\\\]\")\n      .replace(/\\^/g, \"\\\\^\")\n      .replace(/-/g,  \"\\\\-\")\n      .replace(/\\0/g, \"\\\\0\")\n      .replace(/\\t/g, \"\\\\t\")\n      .replace(/\\n/g, \"\\\\n\")\n      .replace(/\\r/g, \"\\\\r\")\n      .replace(/[\\x00-\\x0F]/g,          function(ch) { return \"\\\\x0\" + hex(ch); })\n      .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, function(ch) { return \"\\\\x\"  + hex(ch); });\n  }\n\n  function describeExpectation(expectation) {\n    return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);\n  }\n\n  function describeExpected(expected) {\n    var descriptions = expected.map(describeExpectation);\n    var i, j;\n\n    descriptions.sort();\n\n    if (descriptions.length > 0) {\n      for (i = 1, j = 1; i < descriptions.length; i++) {\n        if (descriptions[i - 1] !== descriptions[i]) {\n          descriptions[j] = descriptions[i];\n          j++;\n        }\n      }\n      descriptions.length = j;\n    }\n\n    switch (descriptions.length) {\n      case 1:\n        return descriptions[0];\n\n      case 2:\n        return descriptions[0] + \" or \" + descriptions[1];\n\n      default:\n        return descriptions.slice(0, -1).join(\", \")\n          + \", or \"\n          + descriptions[descriptions.length - 1];\n    }\n  }\n\n  function describeFound(found) {\n    return found ? \"\\\"\" + literalEscape(found) + \"\\\"\" : \"end of input\";\n  }\n\n  return \"Expected \" + describeExpected(expected) + \" but \" + describeFound(found) + \" found.\";\n};\n\nfunction peg$parse(input, options) {\n  options = options !== undefined ? options : {};\n\n  var peg$FAILED = {};\n\n  var peg$startRuleFunctions = { transformList: peg$parsetransformList };\n  var peg$startRuleFunction = peg$parsetransformList;\n\n  var peg$c0 = \"matrix\";\n  var peg$c1 = \"(\";\n  var peg$c2 = \")\";\n  var peg$c3 = \"translate\";\n  var peg$c4 = \"scale\";\n  var peg$c5 = \"rotate\";\n  var peg$c6 = \"skewX\";\n  var peg$c7 = \"skewY\";\n  var peg$c8 = \",\";\n  var peg$c9 = \".\";\n\n  var peg$r0 = /^[eE]/;\n  var peg$r1 = /^[+\\-]/;\n  var peg$r2 = /^[0-9]/;\n  var peg$r3 = /^[ \\t\\r\\n]/;\n\n  var peg$e0 = peg$literalExpectation(\"matrix\", false);\n  var peg$e1 = peg$literalExpectation(\"(\", false);\n  var peg$e2 = peg$literalExpectation(\")\", false);\n  var peg$e3 = peg$literalExpectation(\"translate\", false);\n  var peg$e4 = peg$literalExpectation(\"scale\", false);\n  var peg$e5 = peg$literalExpectation(\"rotate\", false);\n  var peg$e6 = peg$literalExpectation(\"skewX\", false);\n  var peg$e7 = peg$literalExpectation(\"skewY\", false);\n  var peg$e8 = peg$literalExpectation(\",\", false);\n  var peg$e9 = peg$otherExpectation(\"fractionalConstant\");\n  var peg$e10 = peg$classExpectation([\"e\", \"E\"], false, false);\n  var peg$e11 = peg$classExpectation([\"+\", \"-\"], false, false);\n  var peg$e12 = peg$classExpectation([[\"0\", \"9\"]], false, false);\n  var peg$e13 = peg$classExpectation([\" \", \"\\t\", \"\\r\", \"\\n\"], false, false);\n\n  var peg$f0 = function(ts) { return ts; };\n  var peg$f1 = function(t, ts) { return t.concat(ts) };\n  var peg$f2 = function(a, b, c, d, e, f) {\n        return [{type: 'matrix', a: a, b: b, c: c, d: d, e: e, f: f}];\n      };\n  var peg$f3 = function(tx, ty) {\n        var t = {type: 'translate', tx: tx};\n        if (ty) t.ty = ty;\n        return [t];\n      };\n  var peg$f4 = function(sx, sy) {\n        var s = {type:'scale', sx: sx};\n        if (sy) s.sy = sy;\n        return [s];\n      };\n  var peg$f5 = function(angle, c) {\n        var r = {type:'rotate', angle: angle};\n        if (c) {\n          r.cx = c[0];\n          r.cy = c[1];\n        }\n        return [r];\n      };\n  var peg$f6 = function(angle) {\n        return [{type: 'skewX', angle: angle}];\n      };\n  var peg$f7 = function(angle) {\n        return [{type: 'skewY', angle: angle}];\n      };\n  var peg$f8 = function(f) { return parseFloat(f.join(\"\")); };\n  var peg$f9 = function(i) { return parseInt(i.join(\"\")); };\n  var peg$f10 = function(n) { return n; };\n  var peg$f11 = function(n1, n2) { return [n1, n2]; };\n  var peg$f12 = function(ds) { return ds.join(\"\"); };\n  var peg$f13 = function(d1, d2) { return [d1 ? d1.join(\"\") : null, \".\", d2.join(\"\")].join(\"\"); };\n  var peg$f14 = function(d) { return d.join(\"\"); };\n\n  var peg$currPos = 0;\n  var peg$savedPos = 0;\n  var peg$posDetailsCache = [{ line: 1, column: 1 }];\n  var peg$expected = [];\n  var peg$silentFails = 0;\n\n  var peg$result;\n\n  if (\"startRule\" in options) {\n    if (!(options.startRule in peg$startRuleFunctions)) {\n      throw new Error(\"Can't start parsing from rule \\\"\" + options.startRule + \"\\\".\");\n    }\n\n    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];\n  }\n\n  function text() {\n    return input.substring(peg$savedPos, peg$currPos);\n  }\n\n  function offset() {\n    return peg$savedPos;\n  }\n\n  function range() {\n    return [peg$savedPos, peg$currPos];\n  }\n\n  function location() {\n    return peg$computeLocation(peg$savedPos, peg$currPos);\n  }\n\n  function expected(description, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildStructuredError(\n      [peg$otherExpectation(description)],\n      input.substring(peg$savedPos, peg$currPos),\n      location\n    );\n  }\n\n  function error(message, location) {\n    location = location !== undefined\n      ? location\n      : peg$computeLocation(peg$savedPos, peg$currPos);\n\n    throw peg$buildSimpleError(message, location);\n  }\n\n  function peg$literalExpectation(text, ignoreCase) {\n    return { type: \"literal\", text: text, ignoreCase: ignoreCase };\n  }\n\n  function peg$classExpectation(parts, inverted, ignoreCase) {\n    return { type: \"class\", parts: parts, inverted: inverted, ignoreCase: ignoreCase };\n  }\n\n  function peg$anyExpectation() {\n    return { type: \"any\" };\n  }\n\n  function peg$endExpectation() {\n    return { type: \"end\" };\n  }\n\n  function peg$otherExpectation(description) {\n    return { type: \"other\", description: description };\n  }\n\n  function peg$computePosDetails(pos) {\n    var details = peg$posDetailsCache[pos];\n    var p;\n\n    if (details) {\n      return details;\n    } else {\n      p = pos - 1;\n      while (!peg$posDetailsCache[p]) {\n        p--;\n      }\n\n      details = peg$posDetailsCache[p];\n      details = {\n        line: details.line,\n        column: details.column\n      };\n\n      while (p < pos) {\n        if (input.charCodeAt(p) === 10) {\n          details.line++;\n          details.column = 1;\n        } else {\n          details.column++;\n        }\n\n        p++;\n      }\n\n      peg$posDetailsCache[pos] = details;\n\n      return details;\n    }\n  }\n\n  var peg$VALIDFILENAME = typeof options.filename === \"string\" && options.filename.length > 0;\n  function peg$computeLocation(startPos, endPos) {\n    var loc = {};\n\n    if ( peg$VALIDFILENAME ) loc.filename = options.filename;\n\n    var startPosDetails = peg$computePosDetails(startPos);\n    loc.start = {\n      offset: startPos,\n      line: startPosDetails.line,\n      column: startPosDetails.column\n    };\n\n    var endPosDetails = peg$computePosDetails(endPos);\n    loc.end = {\n      offset: endPos,\n      line: endPosDetails.line,\n      column: endPosDetails.column\n    };\n\n    return loc;\n  }\n\n  function peg$begin() {\n    peg$expected.push({ pos: peg$currPos, variants: [] });\n  }\n\n  function peg$expect(expected) {\n    var top = peg$expected[peg$expected.length - 1];\n\n    if (peg$currPos < top.pos) { return; }\n\n    if (peg$currPos > top.pos) {\n      top.pos = peg$currPos;\n      top.variants = [];\n    }\n\n    top.variants.push(expected);\n  }\n\n  function peg$end(invert) {\n    var expected = peg$expected.pop();\n    var top = peg$expected[peg$expected.length - 1];\n    var variants = expected.variants;\n\n    if (top.pos !== expected.pos) { return; }\n\n    if (invert) {\n      variants = variants.map(function(e) {\n        return e.type === \"not\" ? e.expected : { type: \"not\", expected: e };\n      });\n    }\n\n    Array.prototype.push.apply(top.variants, variants);\n  }\n\n  function peg$buildSimpleError(message, location) {\n    return new peg$SyntaxError(message, null, null, location);\n  }\n\n  function peg$buildStructuredError(expected, found, location) {\n    return new peg$SyntaxError(\n      peg$SyntaxError.buildMessage(expected, found),\n      expected,\n      found,\n      location\n    );\n  }\n\n  function peg$buildError() {\n    var expected = peg$expected[0];\n    var failPos = expected.pos;\n\n    return peg$buildStructuredError(\n      expected.variants,\n      failPos < input.length ? input.charAt(failPos) : null,\n      failPos < input.length\n        ? peg$computeLocation(failPos, failPos + 1)\n        : peg$computeLocation(failPos, failPos)\n    );\n  }\n\n  function peg$parsetransformList() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    while (s2 !== peg$FAILED) {\n      s1.push(s2);\n      s2 = peg$parsewsp();\n    }\n    s2 = peg$parsetransforms();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = [];\n    s4 = peg$parsewsp();\n    while (s4 !== peg$FAILED) {\n      s3.push(s4);\n      s4 = peg$parsewsp();\n    }\n    peg$savedPos = s0;\n    s0 = peg$f0(s2);\n\n    return s0;\n  }\n\n  function peg$parsetransforms() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsetransform();\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsecommaWsp();\n      if (s3 !== peg$FAILED) {\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsecommaWsp();\n        }\n      } else {\n        s2 = peg$FAILED;\n      }\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsetransforms();\n        if (s3 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f1(s1, s3);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetransform();\n    }\n\n    return s0;\n  }\n\n  function peg$parsetransform() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$parsematrix();\n    if (s0 === peg$FAILED) {\n      s0 = peg$parsetranslate();\n      if (s0 === peg$FAILED) {\n        s0 = peg$parsescale();\n        if (s0 === peg$FAILED) {\n          s0 = peg$parserotate();\n          if (s0 === peg$FAILED) {\n            s0 = peg$parseskewX();\n            if (s0 === peg$FAILED) {\n              s0 = peg$parseskewY();\n            }\n          }\n        }\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsematrix() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11, s12, s13, s14, s15, s16, s17;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e0);\n    if (input.substr(peg$currPos, 6) === peg$c0) {\n      s1 = peg$c0;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWsp();\n          if (s6 !== peg$FAILED) {\n            s7 = peg$parsenumber();\n            if (s7 !== peg$FAILED) {\n              s8 = peg$parsecommaWsp();\n              if (s8 !== peg$FAILED) {\n                s9 = peg$parsenumber();\n                if (s9 !== peg$FAILED) {\n                  s10 = peg$parsecommaWsp();\n                  if (s10 !== peg$FAILED) {\n                    s11 = peg$parsenumber();\n                    if (s11 !== peg$FAILED) {\n                      s12 = peg$parsecommaWsp();\n                      if (s12 !== peg$FAILED) {\n                        s13 = peg$parsenumber();\n                        if (s13 !== peg$FAILED) {\n                          s14 = peg$parsecommaWsp();\n                          if (s14 !== peg$FAILED) {\n                            s15 = peg$parsenumber();\n                            if (s15 !== peg$FAILED) {\n                              s16 = [];\n                              s17 = peg$parsewsp();\n                              while (s17 !== peg$FAILED) {\n                                s16.push(s17);\n                                s17 = peg$parsewsp();\n                              }\n                              rule$expects(peg$e2);\n                              if (input.charCodeAt(peg$currPos) === 41) {\n                                s17 = peg$c2;\n                                peg$currPos++;\n                              } else {\n                                s17 = peg$FAILED;\n                              }\n                              if (s17 !== peg$FAILED) {\n                                peg$savedPos = s0;\n                                s0 = peg$f2(s5, s7, s9, s11, s13, s15);\n                              } else {\n                                peg$currPos = s0;\n                                s0 = peg$FAILED;\n                              }\n                            } else {\n                              peg$currPos = s0;\n                              s0 = peg$FAILED;\n                            }\n                          } else {\n                            peg$currPos = s0;\n                            s0 = peg$FAILED;\n                          }\n                        } else {\n                          peg$currPos = s0;\n                          s0 = peg$FAILED;\n                        }\n                      } else {\n                        peg$currPos = s0;\n                        s0 = peg$FAILED;\n                      }\n                    } else {\n                      peg$currPos = s0;\n                      s0 = peg$FAILED;\n                    }\n                  } else {\n                    peg$currPos = s0;\n                    s0 = peg$FAILED;\n                  }\n                } else {\n                  peg$currPos = s0;\n                  s0 = peg$FAILED;\n                }\n              } else {\n                peg$currPos = s0;\n                s0 = peg$FAILED;\n              }\n            } else {\n              peg$currPos = s0;\n              s0 = peg$FAILED;\n            }\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsetranslate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e3);\n    if (input.substr(peg$currPos, 9) === peg$c3) {\n      s1 = peg$c3;\n      peg$currPos += 9;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f3(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsescale() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e4);\n    if (input.substr(peg$currPos, 5) === peg$c4) {\n      s1 = peg$c4;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspNumber();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f4(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parserotate() {\n    var s0, s1, s2, s3, s4, s5, s6, s7, s8;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e5);\n    if (input.substr(peg$currPos, 6) === peg$c5) {\n      s1 = peg$c5;\n      peg$currPos += 6;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = peg$parsecommaWspTwoNumbers();\n          if (s6 === peg$FAILED) {\n            s6 = null;\n          }\n          s7 = [];\n          s8 = peg$parsewsp();\n          while (s8 !== peg$FAILED) {\n            s7.push(s8);\n            s8 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s8 = peg$c2;\n            peg$currPos++;\n          } else {\n            s8 = peg$FAILED;\n          }\n          if (s8 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f5(s5, s6);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewX() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e6);\n    if (input.substr(peg$currPos, 5) === peg$c6) {\n      s1 = peg$c6;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f6(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseskewY() {\n    var s0, s1, s2, s3, s4, s5, s6, s7;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e7);\n    if (input.substr(peg$currPos, 5) === peg$c7) {\n      s1 = peg$c7;\n      peg$currPos += 5;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = [];\n      s3 = peg$parsewsp();\n      while (s3 !== peg$FAILED) {\n        s2.push(s3);\n        s3 = peg$parsewsp();\n      }\n      rule$expects(peg$e1);\n      if (input.charCodeAt(peg$currPos) === 40) {\n        s3 = peg$c1;\n        peg$currPos++;\n      } else {\n        s3 = peg$FAILED;\n      }\n      if (s3 !== peg$FAILED) {\n        s4 = [];\n        s5 = peg$parsewsp();\n        while (s5 !== peg$FAILED) {\n          s4.push(s5);\n          s5 = peg$parsewsp();\n        }\n        s5 = peg$parsenumber();\n        if (s5 !== peg$FAILED) {\n          s6 = [];\n          s7 = peg$parsewsp();\n          while (s7 !== peg$FAILED) {\n            s6.push(s7);\n            s7 = peg$parsewsp();\n          }\n          rule$expects(peg$e2);\n          if (input.charCodeAt(peg$currPos) === 41) {\n            s7 = peg$c2;\n            peg$currPos++;\n          } else {\n            s7 = peg$FAILED;\n          }\n          if (s7 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f7(s5);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsenumber() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$currPos;\n    s2 = peg$parsesign();\n    if (s2 === peg$FAILED) {\n      s2 = null;\n    }\n    s3 = peg$parsefloatingPointConstant();\n    if (s3 !== peg$FAILED) {\n      s2 = [s2, s3];\n      s1 = s2;\n    } else {\n      peg$currPos = s1;\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f8(s1);\n    }\n    s0 = s1;\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$currPos;\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parseintegerConstant();\n      if (s3 !== peg$FAILED) {\n        s2 = [s2, s3];\n        s1 = s2;\n      } else {\n        peg$currPos = s1;\n        s1 = peg$FAILED;\n      }\n      if (s1 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s1 = peg$f9(s1);\n      }\n      s0 = s1;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspNumber() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f10(s2);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWspTwoNumbers() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsecommaWsp();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsenumber();\n      if (s2 !== peg$FAILED) {\n        s3 = peg$parsecommaWsp();\n        if (s3 !== peg$FAILED) {\n          s4 = peg$parsenumber();\n          if (s4 !== peg$FAILED) {\n            peg$savedPos = s0;\n            s0 = peg$f11(s2, s4);\n          } else {\n            peg$currPos = s0;\n            s0 = peg$FAILED;\n          }\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsecommaWsp() {\n    var s0, s1, s2, s3, s4;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = [];\n    s2 = peg$parsewsp();\n    if (s2 !== peg$FAILED) {\n      while (s2 !== peg$FAILED) {\n        s1.push(s2);\n        s2 = peg$parsewsp();\n      }\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsecomma();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = [];\n      s4 = peg$parsewsp();\n      while (s4 !== peg$FAILED) {\n        s3.push(s4);\n        s4 = peg$parsewsp();\n      }\n      s1 = [s1, s2, s3];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsecomma();\n      if (s1 !== peg$FAILED) {\n        s2 = [];\n        s3 = peg$parsewsp();\n        while (s3 !== peg$FAILED) {\n          s2.push(s3);\n          s3 = peg$parsewsp();\n        }\n        s1 = [s1, s2];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsecomma() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e8);\n    if (input.charCodeAt(peg$currPos) === 44) {\n      s0 = peg$c8;\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parseintegerConstant() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 !== peg$FAILED) {\n      peg$savedPos = s0;\n      s1 = peg$f12(s1);\n    }\n    s0 = s1;\n\n    return s0;\n  }\n\n  function peg$parsefloatingPointConstant() {\n    var s0, s1, s2;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    s1 = peg$parsefractionalConstant();\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parseexponent();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s1 = [s1, s2];\n      s0 = s1;\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        s2 = peg$parseexponent();\n        if (s2 !== peg$FAILED) {\n          s1 = [s1, s2];\n          s0 = s1;\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n\n    return s0;\n  }\n\n  function peg$parsefractionalConstant() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e9);\n    peg$silentFails++;\n    s0 = peg$currPos;\n    s1 = peg$parsedigitSequence();\n    if (s1 === peg$FAILED) {\n      s1 = null;\n    }\n    if (input.charCodeAt(peg$currPos) === 46) {\n      s2 = peg$c9;\n      peg$currPos++;\n    } else {\n      s2 = peg$FAILED;\n    }\n    if (s2 !== peg$FAILED) {\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        peg$savedPos = s0;\n        s0 = peg$f13(s1, s3);\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n    if (s0 === peg$FAILED) {\n      s0 = peg$currPos;\n      s1 = peg$parsedigitSequence();\n      if (s1 !== peg$FAILED) {\n        if (input.charCodeAt(peg$currPos) === 46) {\n          s2 = peg$c9;\n          peg$currPos++;\n        } else {\n          s2 = peg$FAILED;\n        }\n        if (s2 !== peg$FAILED) {\n          peg$savedPos = s0;\n          s0 = peg$f14(s1);\n        } else {\n          peg$currPos = s0;\n          s0 = peg$FAILED;\n        }\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    }\n    peg$silentFails--;\n\n    return s0;\n  }\n\n  function peg$parseexponent() {\n    var s0, s1, s2, s3;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = peg$currPos;\n    rule$expects(peg$e10);\n    if (peg$r0.test(input.charAt(peg$currPos))) {\n      s1 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s1 = peg$FAILED;\n    }\n    if (s1 !== peg$FAILED) {\n      s2 = peg$parsesign();\n      if (s2 === peg$FAILED) {\n        s2 = null;\n      }\n      s3 = peg$parsedigitSequence();\n      if (s3 !== peg$FAILED) {\n        s1 = [s1, s2, s3];\n        s0 = s1;\n      } else {\n        peg$currPos = s0;\n        s0 = peg$FAILED;\n      }\n    } else {\n      peg$currPos = s0;\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsesign() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e11);\n    if (peg$r1.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigitSequence() {\n    var s0, s1;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    s0 = [];\n    s1 = peg$parsedigit();\n    if (s1 !== peg$FAILED) {\n      while (s1 !== peg$FAILED) {\n        s0.push(s1);\n        s1 = peg$parsedigit();\n      }\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsedigit() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e12);\n    if (peg$r2.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  function peg$parsewsp() {\n    var s0;\n\n    var rule$expects = function (expected) {\n      if (peg$silentFails === 0) peg$expect(expected);\n    }\n\n    rule$expects(peg$e13);\n    if (peg$r3.test(input.charAt(peg$currPos))) {\n      s0 = input.charAt(peg$currPos);\n      peg$currPos++;\n    } else {\n      s0 = peg$FAILED;\n    }\n\n    return s0;\n  }\n\n  peg$begin();\n  peg$result = peg$startRuleFunction();\n\n  if (peg$result !== peg$FAILED && peg$currPos === input.length) {\n    return peg$result;\n  } else {\n    if (peg$result !== peg$FAILED && peg$currPos < input.length) {\n      peg$expect(peg$endExpectation());\n    }\n\n    throw peg$buildError();\n  }\n}\n\nexport {\n  peg$SyntaxError as SyntaxError,\n  peg$parse as parse\n};\n\nexport default {\n  SyntaxError: peg$SyntaxError,\n  parse: peg$parse\n};\n","import { parse } from './fromTransformAttribute.autogenerated'\n\n/**\n * Parser for SVG Trasform Attribute http://www.w3.org/TR/SVG/coords.html#TransformAttribute <br/>\n * Warning: This should be considered BETA until it is released a stable version of pegjs.\n * @param transformString {string} Transform string as defined by w3 Consortium\n * @returns {Matrix[]} Array of MatrixDescriptor\n *\n * @example\n * > fromTransformAttribute('translate(-10,-10) scale(2,2) translate(10,10)')\n * [\n *  { type: 'translate', tx: -10, ty: -10},\n *  { type: 'scale', sx: 2, sy: 2 },\n *  { type: 'translate', tx: 10, ty: 10}\n * ]\n *\n * > compose(fromDefinition(fromTransformAttribute('translate(-10, -10) scale(10, 10)')))\n * { a: 10, c: 0, e: -10, b: 0, d: 10, f: -10 }\n */\nexport function fromTransformAttribute (transformString) {\n  return parse(transformString)\n}\n","export * from './applyToPoint'\nexport * from './fromObject'\nexport * from './fromString'\nexport * from './identity'\nexport * from './inverse'\nexport * from './isAffineMatrix'\nexport * from './rotate'\nexport * from './scale'\nexport * from './shear'\nexport * from './skew'\nexport * from './toString'\nexport * from './transform'\nexport * from './translate'\nexport * from './fromTriangles'\nexport * from './smoothMatrix'\nexport * from './fromDefinition'\nexport * from './fromTransformAttribute'\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\n\nimport {\n  ACTION_ZOOM, MODE_IDLE, MODE_ZOOMING,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n  NULL_POSITION\n} from '../constants';\nimport {getSVGPoint} from './common';\nimport calculateBox from '../utils/calculateBox';\n\nfunction lessThanScaleFactorMin (matrix, scaleFactor, scaleFactorMin) {\n  return scaleFactorMin && (matrix.d * scaleFactor) <= scaleFactorMin;\n}\n\nfunction moreThanScaleFactorMax (matrix, scaleFactor, scaleFactorMax) {\n  return scaleFactorMax && (matrix.d * scaleFactor) >= scaleFactorMax;\n}\n\nexport function isZoomLevelGoingOutOfBounds(matrix, scaleFactor, scaleFactorMin, scaleFactorMax) {\n  return lessThanScaleFactorMin(matrix, scaleFactor, scaleFactorMin) && scaleFactor < 1 ||\n          moreThanScaleFactorMax(matrix, scaleFactor, scaleFactorMax) && scaleFactor > 1;\n}\n\nexport function limitZoomLevel(matrix, scaleFactorMin, scaleFactorMax) {\n  let scaleLevel = matrix.a;\n\n  if(scaleFactorMin != null) {\n    // limit minimum zoom\n    scaleLevel = Math.max(scaleLevel, scaleFactorMin);\n  }\n\n  if(scaleFactorMax != null) {\n    // limit maximum zoom\n    scaleLevel = Math.min(scaleLevel, scaleFactorMax);\n  }\n\n  return {\n    ...matrix,\n    a: scaleLevel,\n    d: scaleLevel\n  };\n}\n\nexport function zoom(matrix, SVGPoint, scaleFactor, scaleFactorMin, scaleFactorMax) {\n  if (isZoomLevelGoingOutOfBounds(matrix, scaleFactor, scaleFactorMin, scaleFactorMax)) {\n      return {matrix};\n  }\n  const newMatrix = transform(\n    fromObject(matrix),\n    translate(SVGPoint.x, SVGPoint.y),\n    scale(scaleFactor, scaleFactor),\n    translate(-SVGPoint.x, -SVGPoint.y)\n  );\n  return {\n    mode: MODE_IDLE,\n    matrix: limitZoomLevel(newMatrix, scaleFactorMin, scaleFactorMax),\n    start: NULL_POSITION,\n    end: NULL_POSITION,\n    last_action: ACTION_ZOOM\n  };\n}\n\nexport function fitSelection(\n  selectionSVGPointX,\n  selectionSVGPointY,\n  selectionWidth,\n  selectionHeight,\n  viewerWidth,\n  viewerHeight\n) {\n  let scaleX = viewerWidth / selectionWidth;\n  let scaleY = viewerHeight / selectionHeight;\n\n  let scaleLevel = Math.min(scaleX, scaleY);\n\n  const newMatrix = transform(\n    scale(scaleLevel, scaleLevel),                      //2\n    translate(-selectionSVGPointX, -selectionSVGPointY) //1\n  );\n\n  if(isZoomLevelGoingOutOfBounds(scaleLevel / newMatrix.d)) {\n    // Do not allow scale and translation\n    return {\n      mode: MODE_IDLE,\n      start: NULL_POSITION,\n      end: NULL_POSITION,\n    };\n  }\n\n  return {\n    mode: MODE_IDLE,\n    matrix: limitZoomLevel(newMatrix),\n    start: NULL_POSITION,\n    end: NULL_POSITION,\n    last_action: ACTION_ZOOM\n  };\n}\n\nexport function fitToViewer(viewer, SVGAttributes, SVGAlignX=ALIGN_LEFT, SVGAlignY=ALIGN_TOP) {\n  const {SVGMinX, SVGMinY, SVGWidth, SVGHeight} = SVGAttributes;\n  const {viewerWidth, viewerHeight} = viewer;\n\n  const scaleX = viewerWidth / SVGWidth;\n  const scaleY = viewerHeight / SVGHeight;\n  const scaleLevel = Math.min(scaleX, scaleY);\n\n  const scaleMatrix = scale(scaleLevel, scaleLevel);\n\n  let translateX = -SVGMinX * scaleX;\n  let translateY = -SVGMinY * scaleY;\n\n  // after fitting, SVG and the viewer will match in width (1) or in height (2)\n  if (scaleX < scaleY) {\n    //(1) match in width, meaning scaled SVGHeight <= viewerHeight\n    let remainderY = viewerHeight - scaleX * SVGHeight;\n    switch(SVGAlignY) {\n      case ALIGN_TOP:\n        translateY = -SVGMinY * scaleLevel;\n      break;\n      case ALIGN_CENTER:\n        translateY = Math.round(remainderY / 2) - SVGMinY * scaleLevel;\n      break;\n      case ALIGN_BOTTOM:\n        translateY = remainderY - SVGMinY * scaleLevel;\n      break;\n    }\n  } else {\n    //(2) match in height, meaning scaled SVGWidth <= viewerWidth\n    let remainderX = viewerWidth - scaleY * SVGWidth;\n    switch(SVGAlignX) {\n      case ALIGN_LEFT:\n        translateX = -SVGMinX * scaleLevel;\n      break;\n      case ALIGN_CENTER:\n        translateX = Math.round(remainderX / 2) - SVGMinX * scaleLevel;\n      break;\n      case ALIGN_RIGHT:\n        translateX = remainderX - SVGMinX * scaleLevel;\n      break;\n    }\n  }\n\n  const translationMatrix = translate(translateX, translateY);\n  const matrix = transform(\n    translationMatrix, //2\n    scaleMatrix        //1\n  );\n\n  if (isZoomLevelGoingOutOfBounds(scaleLevel / matrix.d)) {\n    // Do not allow scale and translation\n    return {\n      mode: MODE_IDLE,\n      start: NULL_POSITION,\n      end: NULL_POSITION,\n    };\n  }\n\n  return {\n    mode: MODE_IDLE,\n    matrix:limitZoomLevel(matrix),\n    start: NULL_POSITION,\n    end: NULL_POSITION,\n    last_action: ACTION_ZOOM\n  };\n}\n\nexport function zoomOnViewerCenter(matrix, viewer, scaleFactor, scaleFactorMin, scaleFactorMax) {\n  const {viewerWidth, viewerHeight} = viewer;\n\n  const SVGPoint = getSVGPoint(viewerWidth / 2, viewerHeight / 2, matrix);\n  return zoom(matrix, SVGPoint, scaleFactor, scaleFactorMin, scaleFactorMax);\n}\n\nexport function startZooming(viewer) {\n  return {\n    mode: MODE_ZOOMING,\n    start: viewer,\n    end: viewer\n  };\n}\n\nexport function updateZooming(mode, cursor) {\n  if (mode !== MODE_ZOOMING) throw new Error('update selection not allowed in this mode ' + mode);\n\n  return { end: cursor };\n}\n\nexport function stopZooming(cursor, start, end, matrix, scaleFactor, props, viewer) {\n  const startPos = getSVGPoint(start.x, start.y, matrix);\n  const endPos = getSVGPoint(end.x, end.y, matrix);\n  if (Math.abs(startPos.x - endPos.x) > 7 && Math.abs(startPos.y - endPos.y) > 7) {\n    // either fit around the box...\n    const box = calculateBox(startPos, endPos);\n    return fitSelection(box.x, box.y, box.width, box.height, viewer.viewerWidth, viewer.viewerHeight);\n  } else {\n    // ...or zoom in around the cursor\n    const SVGPoint = getSVGPoint(cursor.x, cursor.y, matrix);\n    const { scaleFactorMin, scaleFactorMax } = props;\n    return zoom(matrix, SVGPoint, scaleFactor, scaleFactorMin, scaleFactorMax);\n  }\n}\n","import {ACTION_PAN, MODE_IDLE, MODE_PANNING, NULL_POSITION} from '../constants';\nimport {getSVGPoint} from './common';\nimport {fromObject, translate, transform, applyToPoints, inverse} from 'transformation-matrix';\n\n/**\n *\n * @param SVGDeltaX\n * @param SVGDeltaY\n * @param panLimit\n * @returns {Object}\n */\nexport function pan(initialMatrix, delta, viewer, SVGAttributes, panLimit = undefined) {\n  let matrix = transform(\n    fromObject(initialMatrix),              //2\n    translate(delta.x, delta.y) //1\n  );\n\n  // apply pan limits\n  if (panLimit) {\n    const {viewerWidth, viewerHeight} = viewer;\n    const {SVGMinX, SVGMinY, SVGWidth, SVGHeight} = SVGAttributes;\n\n    let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(matrix, [\n      {x: SVGMinX + panLimit, y: SVGMinY + panLimit},\n      {x: SVGMinX + SVGWidth - panLimit, y: SVGMinY + SVGHeight - panLimit}\n    ]);\n\n    //x limit\n    let moveX = 0;\n    if (viewerWidth - x1 < 0)\n      moveX = viewerWidth - x1;\n    else if (x2 < 0) moveX = -x2;\n\n\n    //y limit\n    let moveY = 0;\n    if (viewerHeight - y1 < 0)\n      moveY = viewerHeight - y1;\n    else if (y2 < 0) moveY = -y2;\n\n    //apply limits\n    matrix = transform(\n      translate(moveX, moveY),\n      matrix\n    )\n  }\n  return {\n    mode: MODE_IDLE,\n    matrix,\n    lastAction: ACTION_PAN\n  };\n}\n\nexport function startPanning(viewer) {\n  return {\n    mode: MODE_PANNING,\n    start: viewer,\n    end: viewer,\n    last_action: ACTION_PAN\n  };\n}\n\nexport function updatePanning(cursor, start, end, matrix, panLimit, mode, viewer, SVGAttributes) {\n  if (mode !== MODE_PANNING) throw new Error('update pan not allowed in this mode ' + mode);\n\n  let startPos = getSVGPoint(end.x, end.y, matrix);\n  let endPos = getSVGPoint(cursor.x, cursor.y, matrix);\n\n  let delta = {x: endPos.x - startPos.x, y: endPos.y - startPos.y};\n\n  return {\n    ...pan(matrix, delta, viewer, SVGAttributes, panLimit),\n    mode: MODE_PANNING,\n    end: cursor,\n    last_action: ACTION_PAN\n  };\n}\n\nexport function stopPanning() {\n  return {\n    mode: MODE_IDLE,\n    start: NULL_POSITION,\n    end: NULL_POSITION,\n    last_action: ACTION_PAN\n  }\n}\n\nexport function autoPanIfNeeded(viewer, pointer, matrix) {\n  let deltaX = 0;\n  let deltaY = 0;\n\n  if (pointer.y <= 20) deltaY = 2;\n  if (viewer.viewerWidth - pointer.x <= 20) deltaX = -2;\n  if (viewer.viewerHeight - pointer.y <= 20) deltaY = -2;\n  if (pointer.x <= 20) deltaX = 2;\n\n  deltaX = deltaX / matrix.d;\n  deltaY = deltaY / matrix.d;\n\n  return (deltaX === 0 && deltaY === 0) ? {} : pan(matrix, {x: deltaX, y: deltaY}, null, viewer);\n}\n","\nexport function openMiniature() {\n  return {\n    miniatureOpen: true\n  };\n}\n\nexport function closeMiniature() {\n  return {\n    miniatureOpen: false\n  };\n}\n","import {isNullOrUndefined} from \"./utils/is\";\n\nconst github_base = 'https://github.com/chrvadala/react-svg-pan-zoom/blob/master'\n\nconst doc_v1_to_v2 = github_base + '/docs/migrate-from-v1-to-v2.md'\nconst doc_v2_to_v3 = github_base + '/docs/migrate-from-v2-to-v3.md'\n\nexport function tipNoViewer() {\n  console.error(`HEY! You are trying to use an older version of ReactSVGPanZoom. Please read here ${doc_v1_to_v2}`)\n}\n\nexport function tipControlledComponent() {\n  console.error(`HEY! With ReactSVGPanZoom >= 3 you MUST specify value and tool props. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecatedMiniatureProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the props miniaturePosition, miniatureBackground, miniatureWidth, miniatureHeight can be specified as key in the miniatureProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function tipDeprecateToolbarProps(){\n  console.error(`HEY! With ReactSVGPanZoom >= 3 the prop toolbarPosition can be specified as key in the toolbarProps object. Please read here ${doc_v2_to_v3}`)\n}\n\nexport function printMigrationTipsRelatedToProps(props){\n  if (isNullOrUndefined(props.tool)) tipControlledComponent()\n  // #TODO mention somethign about 'value' in vrsion 4\n  if (\n    !isNullOrUndefined(props.miniaturePosition) ||\n    !isNullOrUndefined(props.miniatureBackground) ||\n    !isNullOrUndefined(props.miniatureWidth) ||\n    !isNullOrUndefined(props.miniatureHeight)\n  ) tipDeprecatedMiniatureProps()\n\n\n  if (\n    !isNullOrUndefined(props.toolbarPosition)\n  ) tipDeprecateToolbarProps()\n}\n","export function isNullOrUndefined(value) {\n  return typeof value === 'undefined' || value === null\n}\n\nexport function isEmpty(obj) {\n  return Object.keys(obj).length === 0;\n}\n","import React, {forwardRef, useState, useEffect, useRef, useImperativeHandle} from 'react';\nimport PropTypes from 'prop-types';\nimport {identity, toSVG} from 'transformation-matrix';\n//events\nimport eventFactory from './events/event-factory';\n//features\nimport {pan} from './features/pan';\nimport {reset, setPointOnViewerCenter} from './features/common';\nimport {\n  onDoubleClick,\n  onMouseDown,\n  onMouseEnterOrLeave,\n  onMouseMove,\n  onMouseUp,\n  onWheel\n} from './features/interactions';\nimport parseViewBox from './utils/ViewBoxParser';\nimport {isEmpty} from \"./utils/is\";\n\nimport {onTouchCancel, onTouchEnd, onTouchMove, onTouchStart} from './features/interactions-touch';\n\nimport {fitSelection, fitToViewer, zoom, zoomOnViewerCenter} from './features/zoom';\nimport {closeMiniature, openMiniature} from './features/miniature';\n//ui\nimport cursorPolyfill from './ui/cursor-polyfill';\nimport BorderGradient from './ui/border-gradient';\nimport Selection from './ui/selection';\nimport Toolbar from './ui-toolbar/toolbar';\nimport detectTouch from './ui/detect-touch';\nimport Miniature from './ui-miniature/miniature'\n\nimport {\n  ACTION_PAN,\n  ACTION_ZOOM,\n  ALIGN_BOTTOM,\n  ALIGN_CENTER,\n  ALIGN_LEFT,\n  ALIGN_RIGHT,\n  ALIGN_TOP,\n  MODE_IDLE,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  POSITION_BOTTOM,\n  POSITION_LEFT,\n  POSITION_NONE,\n  POSITION_RIGHT,\n  POSITION_TOP,\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT,\n  NULL_POSITION\n} from './constants';\nimport {printMigrationTipsRelatedToProps} from \"./migration-tips\";\n\nconst ReactSVGPanZoom = forwardRef((props, Viewer) => {\n  if (process.env.NODE_ENV !== 'production') {\n    printMigrationTipsRelatedToProps(props)\n  }\n  const {\n    width: viewerWidth,\n    height: viewerHeight,\n    scaleFactorMin,\n    scaleFactorMax,\n    children\n  } = props;\n  const viewer = {viewerWidth, viewerHeight};\n\n  const [autoPanIsRunning, setAutoPanning] = useState(true);\n  const [autoPanHover, setAutoPanHover] = useState(POSITION_NONE);\n  const [tool, setTool] = useState(TOOL_AUTO);\n\n  const [matrix, setMatrix] = useState(identity());\n  const [start, setStart] = useState(NULL_POSITION);\n  const [end, setEnd] = useState(NULL_POSITION);\n\n  const [mode, setMode] = useState(MODE_IDLE);\n  const [focus, setFocus] = useState(false);\n  const [pinchPointDistance, setPinchPointDistance] = useState(null);\n  const [prePinchMode, setPrePinchMode] = useState(null);\n  const [miniatureOpen, setMiniatureOpen] = useState(true);\n  const [lastAction, setLastAction] = useState(null);\n\n  const ViewerDOM = useRef(null);\n  const boundingRect = ViewerDOM.current && ViewerDOM.current.getBoundingClientRect();\n\n  const {viewBox: SVGViewBox} = children.props;\n  const {SVGMinX, SVGMinY, SVGWidth, SVGHeight} = SVGViewBox ? parseViewBox(SVGViewBox) : {\n    SVGHeight: children.props.height,\n    SVGWidth: children.props.width,\n    SVGMinX: 0,\n    SVGMinY: 0\n  };\n  const SVGAttributes = {SVGMinX, SVGMinY, SVGWidth, SVGHeight};\n\n  const hoverBorderRef = useRef()\n  useEffect(() => {\n    hoverBorderRef.current = requestAnimationFrame(() => panOnHover(matrix));\n    return () => cancelAnimationFrame(hoverBorderRef.current);\n  }, [autoPanHover]);\n\n  const panOnHover = (inputMatrix) => {\n    let deltaX = 0;\n    let deltaY = 0;\n    \n    if(autoPanHover === POSITION_NONE){\n      cancelAnimationFrame(hoverBorderRef.current)\n    } else {\n      switch (autoPanHover) {\n        case POSITION_TOP:\n            deltaY = -2;\n          break;\n    \n        case POSITION_RIGHT:\n            deltaX = 2;\n          break;\n    \n        case POSITION_BOTTOM:\n            deltaY = 2;\n          break;\n    \n        case POSITION_LEFT:\n            deltaX = -2;\n          break;\n      }\n      const delta =  {x: deltaX / inputMatrix.d, y: deltaY / inputMatrix.d};\n      const nextValue = pan(inputMatrix, delta, viewer, SVGAttributes, props.preventPanOutside ? 20 : undefined);\n      updateValue(nextValue);\n      hoverBorderRef.current = requestAnimationFrame(() => panOnHover(nextValue.matrix));\n    }\n  }\n\n  // on value change\n  useEffect(() => {\n    let {onChangeValue, onZoom, onPan} = props;\n    const nextValue = getValue();\n    if (onChangeValue) onChangeValue(nextValue);\n    if (nextValue.lastAction) {\n      if (onZoom && nextValue.lastAction === ACTION_ZOOM) onZoom(nextValue);\n      if (onPan && nextValue.lastAction === ACTION_PAN) onPan(nextValue);\n    }\n  }, [\n    matrix, start, end,\n    mode, focus, pinchPointDistance, prePinchMode, miniatureOpen,\n    lastAction,\n  ]);\n\n  function getValue() {\n    return {\n      //directly from props:\n      viewerWidth,\n      viewerHeight,\n      scaleFactorMin,\n      scaleFactorMax,\n\n      //from child props:\n      SVGAttributes,\n\n      //\n      matrix,\n      start,\n      end,\n\n      //\n      mode,\n      focus,\n      pinchPointDistance,\n      prePinchMode,\n      miniatureOpen,\n      lastAction,\n\n      //\n      version: 3,\n    };\n  }\n\n  function updateValue(nextValue) {\n    const { matrix, start, end, mode, lastAction, miniatureOpen} = nextValue;\n    if('matrix' in nextValue) setMatrix(matrix);\n    if('start' in nextValue) setStart(start);\n    if('end' in nextValue) setEnd(end);\n\n    if('mode' in nextValue) setMode(mode);\n    if('focus' in nextValue) setFocus(focus);\n    if('lastAction' in nextValue) setLastAction(lastAction);\n\n    if('miniatureOpen' in nextValue) setMiniatureOpen(miniatureOpen);\n\n    const { onChangeValue } = props;\n    if(onChangeValue) onChangeValue(getValue());\n  }\n\n  /** ReactSVGPanZoom methods **/\n  useImperativeHandle(Viewer, () => ({\n\n    pan(SVGDeltaX, SVGDeltaY) {\n      const nextValue = pan(matrix, {x: SVGDeltaX, y: SVGDeltaY}, viewer, SVGAttributes, props.preventPanOutside ? 20 : undefined);\n      updateValue(nextValue);\n    },\n\n    zoom(SVGPointX, SVGPointY, scaleFactor) {\n      const nextValue = zoom(matrix, {x: SVGPointX, y: SVGPointY}, scaleFactor, scaleFactorMin, scaleFactorMax);\n      updateValue(nextValue);\n    },\n\n    fitSelection(selectionSVGPointX, selectionSVGPointY, selectionWidth, selectionHeight) {\n      const nextValue = fitSelection(\n        selectionSVGPointX,\n        selectionSVGPointY,\n        selectionWidth,\n        selectionHeight,\n        viewerWidth,\n        viewerHeight\n      );\n      updateValue(nextValue);\n    },\n\n    fitToViewer(SVGAlignX = ALIGN_LEFT, SVGAlignY = ALIGN_TOP) {\n      const nextValue = fitToViewer(viewer, SVGAttributes, SVGAlignX, SVGAlignY);\n      updateValue(nextValue);\n    },\n\n    zoomOnViewerCenter(scaleFactor) {\n      const nextValue = zoomOnViewerCenter(matrix, viewer, scaleFactor, scaleFactorMin, scaleFactorMax);\n      updateValue(nextValue);\n    },\n\n    setPointOnViewerCenter(SVGPointX, SVGPointY, zoomLevel) {\n      const nextValue = setPointOnViewerCenter(viewerWidth, viewerHeight, SVGPointX, SVGPointY, zoomLevel);\n      updateValue(nextValue);\n    },\n\n    reset() {\n      const nextValue = reset();\n      updateValue(nextValue);\n    },\n\n    openMiniature() {\n      const nextValue = openMiniature();\n      updateValue(nextValue);\n    },\n\n    closeMiniature() {\n      const nextValue = closeMiniature();\n      updateValue(nextValue);\n    },\n\n    changeTool(tool) {\n      setTool(tool);\n    }\n  }));\n\n  /** ReactSVGPanZoom internals **/\n  function handleViewerEvent(event) {\n    if (!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0)) return;\n    if (event.target === ViewerDOM) return;\n\n    let eventsHandler = {\n      click: props.onClick,\n      dblclick: props.onDoubleClick,\n\n      mousemove: props.onMouseMove,\n      mouseup: props.onMouseUp,\n      mousedown: props.onMouseDown,\n\n      touchstart: props.onTouchStart,\n      touchmove: props.onTouchMove,\n      touchend: props.onTouchEnd,\n      touchcancel: props.onTouchCancel,\n    };\n\n    const onEventHandler = eventsHandler[event.type];\n    if (!onEventHandler) return;\n\n    onEventHandler(eventFactory(event, matrix, boundingRect));\n  }\n\n  /** React renderer **/\n  let {customToolbar: CustomToolbar, customMiniature: CustomMiniature} = props;\n\n  let panningWithToolAuto = tool === TOOL_AUTO\n    && mode === MODE_PANNING\n    && start.x !== end.x\n    && start.y !== end.y;\n\n  let cursor;\n\n  if (tool === TOOL_PAN)\n    cursor = cursorPolyfill(mode === MODE_PANNING ? 'grabbing' : 'grab');\n\n  if (tool === TOOL_ZOOM_IN)\n    cursor = cursorPolyfill('zoom-in');\n\n  if (tool === TOOL_ZOOM_OUT)\n    cursor = cursorPolyfill('zoom-out');\n\n  if (panningWithToolAuto)\n    cursor = cursorPolyfill('grabbing');\n\n  let blockChildEvents = [TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT].indexOf(tool) >= 0;\n  blockChildEvents = blockChildEvents || panningWithToolAuto;\n\n  const touchAction = (props.detectPinchGesture || [TOOL_PAN, TOOL_AUTO].indexOf(tool) !== -1) ? 'none' : undefined\n\n  const style = {display: 'block', cursor, touchAction};\n  return (\n    <div\n      style={{position: \"relative\", width: viewerWidth, height: viewerHeight, ...props.style}}\n      className={props.className}>\n      <svg\n        ref={ViewerDOM}\n        width={viewerWidth}\n        height={viewerHeight}\n        style={style}\n\n        onMouseDown={event => {\n          const nextValue = onMouseDown(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n\n          handleViewerEvent(event);\n        }}\n        onMouseMove={event => {\n          const nextValue = onMouseMove(event, boundingRect, matrix, tool, props, mode, start, end, viewer, SVGAttributes);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}\n        onMouseUp={event => {\n          const nextValue = onMouseUp(event, boundingRect, matrix, tool, props, mode, start, end, viewer);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}\n\n        onClick={event => {\n          handleViewerEvent(event)\n        }}\n        onDoubleClick={event => {\n          const nextValue = onDoubleClick(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}\n\n        onWheel={event => {\n          const nextValue = onWheel(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n        }}\n\n        onMouseEnter={event => {\n          if (detectTouch()) return;\n          const nextValue = onMouseEnterOrLeave(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n        }}\n        onMouseLeave={event => {\n          const nextValue = onMouseEnterOrLeave(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n        }}\n\n        onTouchStart={event => {\n          const nextValue = onTouchStart(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}\n        onTouchMove={event => {\n          const nextValue = onTouchMove(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}\n        onTouchEnd={event => {\n          const nextValue = onTouchEnd(event, boundingRect, matrix, tool, props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}\n        onTouchCancel={event => {\n          const nextValue = onTouchCancel(event, boundingRect, tool,  props, mode);\n          if (!isEmpty(nextValue)) updateValue(nextValue);\n          handleViewerEvent(event);\n        }}>\n\n        <rect\n          fill={props.background}\n          x={0}\n          y={0}\n          width={viewerWidth}\n          height={viewerHeight}\n          style={{pointerEvents: \"none\"}}\n        />\n\n        <g\n          transform={toSVG(matrix)}\n          style={blockChildEvents ? {pointerEvents: \"none\"} : {}}>\n          <rect\n            fill={props.SVGBackground}\n            style={props.SVGStyle}\n            x={SVGMinX || 0}\n            y={SVGMinY || 0}\n            width={SVGWidth}\n            height={SVGHeight}/>\n          <g>\n            {children.props.children}\n          </g>\n        </g>\n        \n\n        {!([TOOL_NONE, TOOL_AUTO].indexOf(tool) >= 0 && props.detectAutoPan) ? null : (\n          <g>\n            <BorderGradient direction={POSITION_TOP} width={viewerWidth} height={viewerHeight} setAutoPanHover={setAutoPanHover}/>\n            <BorderGradient direction={POSITION_RIGHT} width={viewerWidth} height={viewerHeight} setAutoPanHover={setAutoPanHover}/>\n            <BorderGradient direction={POSITION_BOTTOM} width={viewerWidth} height={viewerHeight} setAutoPanHover={setAutoPanHover}/>\n            <BorderGradient direction={POSITION_LEFT} width={viewerWidth} height={viewerHeight} setAutoPanHover={setAutoPanHover}/>\n          </g>\n        )}\n\n        {!(mode === MODE_ZOOMING) ? null :\n          <Selection startX={start.x} startY={start.y} endX={end.x} endY={end.y}/>\n        }\n      </svg>\n      \n      \n      {props.toolbarProps.position === POSITION_NONE ? null :\n        <CustomToolbar\n          {...props.toolbarProps}\n          fitToViewer={(SVGAlignX, SVGAlignY) => updateValue(fitToViewer(viewer, SVGAttributes, SVGAlignX, SVGAlignY))}\n          tool={tool}\n          onChangeTool={tool => {\n            setTool(tool);\n            const { onChangeTool } = props;\n            if(onChangeTool) onChangeTool(tool);\n          }}\n        />}\n\n      {props.miniatureProps.position === POSITION_NONE ? null :\n        <CustomMiniature\n          viewer={viewer}\n          SVGAttributes={SVGAttributes}\n          miniatureOpen={miniatureOpen}\n          setMiniatureOpen={setMiniatureOpen}\n          matrix={matrix}\n          {...props.miniatureProps}\n          // value={value}\n          // onChangeValue={value => updateValue(value)}\n          SVGBackground={props.SVGBackground}\n        >\n          {props.children.props.children}\n        </CustomMiniature>\n      }\n    </div>\n  );\n});\n\nReactSVGPanZoom.propTypes = {\n  /**************************************************************************/\n  /*  Viewer configuration                                                  */\n  /**************************************************************************/\n  //width of the viewer displayed on screen\n  width: PropTypes.number.isRequired,\n\n  //height of the viewer displayed on screen\n  height: PropTypes.number.isRequired,\n\n  //handler something changed\n  onChangeValue: PropTypes.func,\n\n  //current active tool (TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT)\n  tool: PropTypes.oneOf([TOOL_AUTO, TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT]).isRequired,\n\n  //handler tool changed\n  onChangeTool: PropTypes.func,\n\n  /**************************************************************************/\n  /* Customize style                                                        */\n  /**************************************************************************/\n\n  //background of the viewer\n  background: PropTypes.string,\n\n  //background of the svg\n  SVGBackground: PropTypes.string,\n\n  //style of the svg\n  SVGStyle: PropTypes.object,\n\n  //CSS style of the Viewer\n  style: PropTypes.object,\n\n  //className of the Viewer\n  className: PropTypes.string,\n\n\n  /**************************************************************************/\n  /* Detect events                                                          */\n  /**************************************************************************/\n\n  //perform zoom operation on mouse scroll\n  detectWheel: PropTypes.bool,\n\n  //perform PAN if the mouse is on viewer border\n  detectAutoPan: PropTypes.bool,\n\n  //perform zoom operation on pinch gesture\n  detectPinchGesture: PropTypes.bool,\n\n  //toolbar position\n  toolbarPosition: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n\n  //handler zoom level changed\n  onZoom: PropTypes.func,\n\n  //handler pan action performed\n  onPan: PropTypes.func,\n\n  //handler click\n  onClick: PropTypes.func,\n\n  //handler double click\n  onDoubleClick: PropTypes.func,\n\n  //handler mouseup\n  onMouseUp: PropTypes.func,\n\n  //handler mousemove\n  onMouseMove: PropTypes.func,\n\n  //handler mousedown\n  onMouseDown: PropTypes.func,\n\n  /**************************************************************************/\n  /* Some advanced configurations                                           */\n  /**************************************************************************/\n\n  //if disabled the user can move the image outside the viewer\n  preventPanOutside: PropTypes.bool,\n\n  //how much scale in or out\n  scaleFactor: PropTypes.number,\n\n  //how much scale in or out on mouse wheel (requires detectWheel enabled)\n  scaleFactorOnWheel: PropTypes.number,\n\n  // maximum amount of scale a user can zoom in to\n  scaleFactorMax: PropTypes.number,\n\n  // minimum amount of a scale a user can zoom out of\n  scaleFactorMin: PropTypes.number,\n\n  //modifier keys //https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/getModifierState\n  modifierKeys: PropTypes.array,\n\n  //Turn off zoom on double click\n  disableDoubleClickZoomWithToolAuto: PropTypes.bool,\n\n  /**************************************************************************/\n  /* Miniature configurations                                                 */\n  /**************************************************************************/\n\n  //override miniature component\n  customMiniature: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //miniature props\n  miniatureProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_RIGHT, POSITION_LEFT]),\n    background: PropTypes.string,\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n\n  /**************************************************************************/\n  /* Toolbar configurations                                                 */\n  /**************************************************************************/\n\n  //override toolbar component\n  customToolbar: PropTypes.oneOfType([PropTypes.element, PropTypes.func]),\n\n  //toolbar props\n  toolbarProps: PropTypes.shape({\n    position: PropTypes.oneOf([POSITION_NONE, POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n    SVGAlignX: PropTypes.oneOf([ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT]),\n    SVGAlignY: PropTypes.oneOf([ALIGN_CENTER, ALIGN_TOP, ALIGN_BOTTOM]),\n  }),\n\n  /**************************************************************************/\n  /* Children Check                                                         */\n  /**************************************************************************/\n  //accept only one node SVG\n  children: function (props, propName, componentName) {\n    // Only accept a single child, of the appropriate type\n    //credits: http://www.mattzabriskie.com/blog/react-validating-children\n    let prop = props[propName];\n    let types = ['svg'];\n    if (React.Children.count(prop) !== 1 ||\n      types.indexOf(prop.type) === -1) {\n      return new Error(\n        '`' + componentName + '` ' +\n        'should have a single child of the following types: ' +\n        ' `' + types.join('`, `') + '`.'\n      );\n    }\n    if (\n      (!prop.props.hasOwnProperty('width') || !prop.props.hasOwnProperty('height')) &&\n      (!prop.props.hasOwnProperty('viewBox'))\n    ) {\n      return new Error('SVG should have props `width` and `height` or `viewBox`');\n    }\n\n  }\n};\n\nReactSVGPanZoom.defaultProps = {\n  style: {},\n  background: \"#616264\",\n  SVGBackground: \"#fff\",\n  SVGStyle: {},\n  detectWheel: true,\n  detectAutoPan: true,\n  detectPinchGesture: true,\n  modifierKeys: [\"Alt\", \"Shift\", \"Control\"],\n  preventPanOutside: true,\n  scaleFactor: 1.1,\n  scaleFactorOnWheel: 1.06,\n  disableZoomWithToolAuto: false,\n  onZoom: null,\n  onPan: null,\n  customToolbar: Toolbar,\n  toolbarProps: {},\n  customMiniature: Miniature,\n  miniatureProps: {},\n};\n\nexport default ReactSVGPanZoom;\n","import {decompose} from '../features/common'\n\nexport default class ViewerEvent {\n  constructor(originalEvent, matrix, boundingRect) {\n    this.originalEvent = originalEvent;\n    this.matrix = matrix;\n    this.boundingRect = boundingRect;\n  }\n\n  get scaleFactor() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.matrix);\n    return this._cacheDecomposedValue.scaleFactor;\n  }\n\n  get translationX() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.matrix);\n    return this._cacheDecomposedValue.translationX;\n  }\n\n  get translationY() {\n    this._cacheDecomposedValue = this._cacheDecomposedValue || decompose(this.matrix);\n    return this._cacheDecomposedValue.translationY;\n  }\n\n  preventDefault(){\n    this.originalEvent.preventDefault();\n  }\n\n  stopPropagation(){\n    this.originalEvent.stopPropagation();\n  }\n}\n","import {\n  TOOL_AUTO,\n  TOOL_NONE,\n  TOOL_PAN,\n  TOOL_ZOOM_IN,\n  TOOL_ZOOM_OUT,\n  MODE_PANNING,\n  MODE_ZOOMING,\n  MODE_IDLE\n} from '../constants';\nimport {setViewerCoords, getSVGPoint, getCursorPosition} from './common';\nimport {startPanning, updatePanning, stopPanning} from './pan';\nimport {startZooming, updateZooming, stopZooming, zoom} from './zoom';\nimport mapRange from '../utils/mapRange';\n\n\nexport function onMouseDown(event, boundingRect, matrix, tool, props, mode) {\n  const cursurPosition = getCursorPosition(event, boundingRect);\n  let nextValue = {};\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      const {x, y} = cursurPosition;\n      const SVGPoint = getSVGPoint(x, y, matrix);\n      nextValue = zoom(matrix, SVGPoint, 1 / props.scaleFactor);\n      break;\n\n    case TOOL_ZOOM_IN:\n      nextValue = startZooming(cursurPosition);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      nextValue = startPanning(cursurPosition);\n      break;\n\n    default:\n      return {};\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseMove(event, boundingRect, matrix, tool, props, mode, start, end, viewer, SVGAttributes) {\n  const cursurPosition = getCursorPosition(event, boundingRect);\n  const forceExit = (event.buttons === 0); //the mouse exited and reentered into svg\n  let nextValue = {};\n\n  switch (tool) {\n    case TOOL_ZOOM_IN:\n      if (mode === MODE_ZOOMING)\n        nextValue = forceExit ? stopZooming(cursurPosition, start, end, matrix, props.scaleFactor, props, viewer) : updateZooming(mode, cursurPosition);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (mode === MODE_PANNING)\n        nextValue = forceExit ? stopPanning() : updatePanning(cursurPosition, start, end, matrix, props.preventPanOutside ? 20 : undefined, mode, viewer, SVGAttributes);\n      break;\n    default:\n      return {};\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onMouseUp(event, boundingRect, matrix, tool, props, mode, start, end, viewer) {\n  const cursurPosition = getCursorPosition(event, boundingRect);\n  let nextValue = {};\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n      if (mode === MODE_ZOOMING)\n        nextValue = stopZooming(cursurPosition, start, end, matrix, 1 / props.scaleFactor, props, viewer);\n      break;\n\n    case TOOL_ZOOM_IN:\n      if (mode === MODE_ZOOMING)\n        nextValue = stopZooming(cursurPosition, start, end, matrix, props.scaleFactor, props, viewer);\n      break;\n\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      if (mode === MODE_PANNING)\n        nextValue = stopPanning();\n      break;\n\n    default:\n      return {};\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onDoubleClick(event, boundingRect, matrix, tool, props, mode) {\n  const cursurPosition = getCursorPosition(event, boundingRect);\n  const {x, y} = cursurPosition;\n\n  let nextValue = {};\n  switch (tool) {\n    case TOOL_AUTO:\n      if (!props.disableDoubleClickZoomWithToolAuto) {\n        const SVGPoint = getSVGPoint(x, y);\n        const modifierKeysReducer = (current, modifierKey) => current || event.getModifierState(modifierKey);\n        const modifierKeyActive = props.modifierKeys.reduce(modifierKeysReducer, false);\n        const scaleFactor = modifierKeyActive ? 1 / props.scaleFactor : props.scaleFactor;\n        nextValue = zoom(SVGPoint.x, SVGPoint.y, scaleFactor, props);\n      }\n      break;\n\n    default:\n      return {};\n  }\n\n  event.preventDefault();\n  return nextValue;\n}\n\nexport function onWheel(event, boundingRect, matrix, tool, props, mode) {\n  const cursurPosition = getCursorPosition(event, boundingRect);\n  const {x, y} = cursurPosition;\n\n  if (!props.detectWheel) return {};\n\n  const delta = Math.max(-1, Math.min(1, event.deltaY));\n  const scaleFactor = mapRange(delta, -1, 1, props.scaleFactorOnWheel, 1 / props.scaleFactorOnWheel);\n  const SVGPoint = getSVGPoint(x, y, matrix);\n\n  event.preventDefault();\n  return zoom(matrix, SVGPoint, scaleFactor);\n}\n\nexport function onMouseEnterOrLeave(event, boundingRect, matrix, tool, props, mode) {\n  event.preventDefault();\n  return {focus: event.type === 'mouseenter'};\n}\n","export default function calculateBox(start, end) {\n  if (start.x <= end.x && start.y <= end.y) {\n    return {\n      x: start.x,\n      y: start.y,\n      width: end.x - start.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y <= end.y) {\n    return {\n      x: end.x,\n      y: start.y,\n      width: start.x - end.x,\n      height: end.y - start.y\n    };\n  } else if (start.x >= end.x && start.y >= end.y) {\n    return {\n      x: end.x,\n      y: end.y,\n      width: start.x - end.x,\n      height: start.y - end.y\n    };\n  } else if (start.x <= end.x && start.y >= end.y) {\n    return {\n      x: start.x,\n      y: end.y,\n      width: end.x - start.x,\n      height: start.y - end.y\n    };\n  }\n}\n\n","import React, {useState} from \"react\";\nimport getDisplayName from \"./getDisplayName\";\n\nlet uid = 1;\nconst nextUID = () => `uid${uid++}`;\n\nexport default function RandomUID(WrappedComponent) {\n  const RandomUID = (props) => {\n    const [uid, setUID] = useState(nextUID())\n    return <WrappedComponent _uid={uid} {...props}/>\n  }\n\n  RandomUID.displayName = `RandomUID(${getDisplayName(WrappedComponent)})`;\n\n  return RandomUID;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT,\n  ALIGN_CENTER, ALIGN_LEFT, ALIGN_RIGHT, ALIGN_TOP, ALIGN_BOTTOM,\n} from '../constants';\n\nimport IconCursor from './icon-cursor';\nimport IconPan from './icon-pan';\nimport IconZoomIn from './icon-zoom-in';\nimport IconZoomOut from './icon-zoom-out';\nimport IconFit from './icon-fit';\nimport ToolbarButton from './toolbar-button';\n\nexport default function Toolbar({tool, onChangeTool, position, fitToViewer, SVGAlignX, SVGAlignY}) {\n\n  let handleChangeTool = (event, tool) => {\n    onChangeTool(tool);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let handleFit = event => {\n    fitToViewer(SVGAlignX, SVGAlignY);\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  let isHorizontal = [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0;\n\n  let style = {\n    //position\n    position: \"absolute\",\n    transform: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"translate(-50%, 0px)\" : \"none\",\n    top: [POSITION_LEFT, POSITION_RIGHT, POSITION_TOP].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    left: [POSITION_TOP, POSITION_BOTTOM].indexOf(position) >= 0 ? \"50%\" : (POSITION_LEFT === position ? \"5px\" : \"unset\"),\n    right: [POSITION_RIGHT].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n    bottom: [POSITION_BOTTOM].indexOf(position) >= 0 ? \"5px\" : \"unset\",\n\n    //inner styling\n    backgroundColor: \"rgba(19, 20, 22, 0.90)\",\n    borderRadius: \"2px\",\n    display: \"flex\",\n    flexDirection: isHorizontal ? \"row\" : \"column\",\n    padding: isHorizontal ? \"1px 2px\" : \"2px 1px\"\n  };\n\n  return (\n    <div style={style} role=\"toolbar\">\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_NONE}\n        name=\"unselect-tools\"\n        title=\"Selection\"\n        onClick={ event => handleChangeTool(event, TOOL_NONE) }>\n        <IconCursor/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_PAN}\n        name=\"select-tool-pan\"\n        title=\"Pan\"\n        onClick={ event => handleChangeTool(event, TOOL_PAN) }>\n        <IconPan/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_IN}\n        name=\"select-tool-zoom-in\"\n        title=\"Zoom in\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_IN) }>\n        <IconZoomIn/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={tool === TOOL_ZOOM_OUT}\n        name=\"select-tool-zoom-out\"\n        title=\"Zoom out\"\n        onClick={ event => handleChangeTool(event, TOOL_ZOOM_OUT) }>\n        <IconZoomOut/>\n      </ToolbarButton>\n\n      <ToolbarButton\n        toolbarPosition={position}\n        active={false}\n        name=\"fit-to-viewer\"\n        title=\"Fit to viewer\"\n        onClick={ event => handleFit(event) }>\n        <IconFit/>\n      </ToolbarButton>\n    </div>\n  )\n}\n\nToolbar.propTypes = {\n  tool: PropTypes.string.isRequired,\n  onChangeTool: PropTypes.func.isRequired,\n  // onChangeValue: PropTypes.func.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]),\n};\n\nToolbar.defaultProps = {\n  position: POSITION_RIGHT,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_LEFT, POSITION_RIGHT,} from '../constants';\nimport {applyToPoints, inverse} from 'transformation-matrix';\nimport MiniatureToggleButton from './miniature-toggle-button';\nimport MiniatureMask from './miniature-mask';\n\nconst {min, max} = Math;\n\nexport default function Miniature(props) {\n\n  const {miniatureOpen, setMiniatureOpen, matrix, onChangeValue, children, position, background, SVGBackground, width: miniatureWidth, height: miniatureHeight} = props;\n  const {viewerWidth, viewerHeight} = props.viewer;\n  const {SVGMinX, SVGMinY, SVGWidth, SVGHeight} = props.SVGAttributes;\n\n  let ratio = SVGHeight / SVGWidth;\n\n  let zoomToFit = ratio >= 1\n    ? miniatureHeight / SVGHeight\n    : miniatureWidth / SVGWidth;\n\n  let [{x: x1, y: y1}, {x: x2, y: y2}] = applyToPoints(inverse(matrix), [\n    {x: 0, y: 0},\n    {x: viewerWidth, y: viewerHeight}\n  ]);\n\n  let width, height;\n  if (miniatureOpen) {\n    width = miniatureWidth;\n    height = miniatureHeight;\n  } else {\n    width = 24;\n    height = 24;\n  }\n\n  let style = {\n    position: \"absolute\",\n    overflow: \"hidden\",\n    outline: \"1px solid rgba(19, 20, 22, 0.90)\",\n    transition: \"width 200ms ease, height 200ms ease, bottom 200ms ease\",\n    width: width + \"px\",\n    height: height + \"px\",\n    bottom: \"6px\",\n    [position === POSITION_LEFT ? 'left' : 'right']: \"6px\",\n    background\n  };\n\n  let centerTranslation = ratio >= 1\n    ? `translate(${(miniatureWidth - (SVGWidth * zoomToFit)) / 2 - SVGMinX * zoomToFit}, ${ - SVGMinY * zoomToFit})`\n    : `translate(${ - SVGMinX * zoomToFit}, ${(miniatureHeight - (SVGHeight * zoomToFit)) / 2 - SVGMinY * zoomToFit})`;\n\n  return (\n    <div role=\"navigation\" style={style}>\n      <svg\n        width={miniatureWidth}\n        height={miniatureHeight}\n        style={{pointerEvents: \"none\"}}>\n        <g transform={centerTranslation}>\n          <g transform={`scale(${zoomToFit}, ${zoomToFit})`}>\n\n            <rect\n              fill={SVGBackground}\n              x={SVGMinX}\n              y={SVGMinY}\n              width={SVGWidth}\n              height={SVGHeight}/>\n\n            {children}\n\n            <MiniatureMask\n              SVGWidth={SVGWidth}\n              SVGHeight={SVGHeight}\n              SVGMinX={SVGMinX}\n              SVGMinY={SVGMinY}\n              x1={x1}\n              y1={y1}\n              x2={x2}\n              y2={y2}\n              zoomToFit={zoomToFit}\n            />\n\n          </g>\n        </g>\n      </svg>\n      <MiniatureToggleButton\n        miniatureOpen={miniatureOpen}\n        setMiniatureOpen={setMiniatureOpen}\n        position={position}\n      />\n    </div>\n  )\n}\n\nMiniature.propTypes = {\n  // onChangeValue: PropTypes.func.isRequired,\n  SVGBackground: PropTypes.string.isRequired,\n\n  //customizations\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]),\n  background: PropTypes.string.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n};\n\nMiniature.defaultProps = {\n  position: POSITION_LEFT,\n  background: \"#616264\",\n  width: 100,\n  height: 80,\n}\n","import {tipNoViewer} from \"./migration-tips\";\n\nexport {default as ReactSVGPanZoom} from './viewer';\nexport {default as UncontrolledReactSVGPanZoom} from './uncontrolled-viewer';\nexport {default as Toolbar} from './ui-toolbar/toolbar';\nexport {default as Miniature} from './ui-miniature/miniature';\nexport {setPointOnViewerCenter, reset} from './features/common';\nexport {pan} from './features/pan';\nexport {zoom, fitSelection, fitToViewer, zoomOnViewerCenter} from './features/zoom';\nexport {openMiniature, closeMiniature} from './features/miniature'\nexport * from './constants';\n\nexport const Viewer = () => {\n  tipNoViewer()\n  return null;\n};\n","import ViewerMouseEvent from './viewer-mouse-event';\nimport ViewerTouchEvent from './viewer-touch-event';\n\nexport default function (originalEvent, matrix, boundingRect) {\n\n  let eventType = originalEvent.type;\n\n  switch (eventType) {\n    case \"mousemove\":\n    case \"mouseup\":\n    case \"mousedown\":\n    case \"click\":\n    case \"dblclick\":\n      return new ViewerMouseEvent(originalEvent, matrix, boundingRect);\n\n    case \"touchstart\":\n    case \"touchmove\":\n    case \"touchend\":\n    case \"touchcancel\":\n      return new ViewerTouchEvent(originalEvent, matrix, boundingRect);\n\n    default:\n      throw new Error(`${eventType} not supported`);\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerMouseEvent extends ViewerEvent{\n\n  get point() {\n    if (!this._cachePoint) {\n      let event = this.originalEvent, matrix = this.matrix, boundingRect = this.boundingRect;\n\n      let x = event.clientX - Math.round(boundingRect.left);\n      let y = event.clientY - Math.round(boundingRect.top);\n\n      this._cachePoint = getSVGPoint(x, y, matrix);\n    }\n    return this._cachePoint;\n  }\n\n  get x() {\n    return this.point.x;\n  }\n\n  get y() {\n    return this.point.y;\n  }\n}\n","import {getSVGPoint} from '../features/common'\nimport ViewerEvent from './viewer-event';\n\nexport default class ViewerTouchEvent extends ViewerEvent {\n  get points() {\n    if (!this._cachePoints)\n      this._cachePoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.touches, this.boundingRect, this.matrix);\n\n    return this._cachePoints;\n  }\n\n  get changedPoints() {\n    if (!this._cacheChangedPoints)\n      this._cacheChangedPoints = ViewerTouchEvent.touchesToPoints(this.originalEvent.changedTouches, this.boundingRect, this.matrix);\n\n    return this._cacheChangedPoints;\n  }\n\n  static touchesToPoints(touches, boundingRect, matrix) {\n    let points = [];\n    for (let i = 0; i < touches.length; i++) {\n      let touch = touches[i];\n\n      let x = touch.clientX - Math.round(boundingRect.left);\n      let y = touch.clientY - Math.round(boundingRect.top);\n\n      let point = getSVGPoint(x, y, matrix);\n\n      points.push({...point, identifier: touch.identifier});\n    }\n    return points;\n  }\n}\n","export default function mapRange(value, low1, high1, low2, high2) {\n  return low2 + (high2 - low2) * (value - low1) / (high1 - low1);\n}\n","const HASH_MAP = {0: 'SVGMinX', 1: 'SVGMinY', 2: 'SVGWidth', 3: 'SVGHeight'}\nexport default function parseViewBox(viewBoxString) {\n  // viewBox specs: https://www.w3.org/TR/SVG/coords.html#ViewBoxAttribute\n  return viewBoxString && viewBoxString\n    .split(/[ ,]/) // split optional comma\n    .filter(Boolean) // remove empty strings\n    .map(Number) // cast to Number\n    .map((value, index) => ({[HASH_MAP[index]]: value}))\n    .reduce((val, acc) => ({...acc, ...val}), {})\n}\n","import {transform, fromObject, translate, scale} from 'transformation-matrix';\nimport {\n  TOOL_NONE, TOOL_PAN, TOOL_AUTO, TOOL_ZOOM_IN, TOOL_ZOOM_OUT,\n  MODE_IDLE, MODE_PANNING, MODE_ZOOMING\n} from '../constants';\nimport {resetMode, getSVGPoint} from './common';\nimport {onMouseDown, onMouseMove, onMouseUp} from './interactions';\nimport {isZoomLevelGoingOutOfBounds, limitZoomLevel} from './zoom';\n\nfunction hasPinchPointDistance(pinchPointDistance) {\n  return typeof pinchPointDistance === 'number';\n}\n\nfunction onMultiTouch(event, boundingRect, matrix, tool, props, mode, prePinchMode) {\n  const {left, top} = boundingRect;\n  const x1 = event.touches[0].clientX - Math.round(left);\n  const y1 = event.touches[0].clientY - Math.round(top);\n  const x2 = event.touches[1].clientX - Math.round(left);\n  const y2 = event.touches[1].clientY - Math.round(top);\n  const thisPinchPointDistance = Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2));\n  const previousPointDistance = hasPinchPointDistance(pinchPointDistance) ? pinchPointDistance : thisPinchPointDistance;\n  const svgPoint = getSVGPoint((x1 + x2) / 2, (y1 + y2) / 2, matrix);\n  let distanceFactor = pinchPointDistance/previousPointDistance;\n\n  if (isZoomLevelGoingOutOfBounds(distanceFactor)) {\n    return {};\n  }\n\n  if (event.cancelable) {\n    event.preventDefault();\n  }\n\n  let newMatrix = transform(\n    fromObject(matrix),\n    translate(svgPoint.x, svgPoint.y),\n    scale(distanceFactor, distanceFactor),\n    translate(-svgPoint.x, -svgPoint.y)\n  );\n\n  return {\n    mode: MODE_ZOOMING,\n    ...limitZoomLevel(newMatrix),\n    startX: null,\n    startY: null,\n    endX: null,\n    endY: null,\n    prePinchMode: prePinchMode ? prePinchMode : mode,\n    pinchPointDistance\n  };\n}\n\nfunction isMultiTouch(event, props) {\n  return props.detectPinchGesture && event.touches.length > 1;\n}\n\nfunction shouldResetPinchPointDistance(event, pinchPointDistance, props) {\n  return props.detectPinchGesture && hasPinchPointDistance(pinchPointDistance) && event.touches.length < 2;\n}\n\nfunction getTouchPosition(touch, boundingRect) {\n  let {left, top} = boundingRect;\n  let x = touch.clientX - Math.round(left);\n  let y = touch.clientY - Math.round(top);\n\n  return { x, y };\n}\n\nfunction getNextValue(event, boundingRect, matrix, tool, props, mode, prePinchMode, nextValueFn) {\n  let nextValue = event.touches.length === 0 ? { mode: prePinchMode ? MODE_IDLE : mode, prePinchMode: null } : {};\n  let touch = event.touches.length > 0 ? event.touches[0] : event.changedTouches[0];\n  let touchPosition = getTouchPosition(touch, boundingRect);\n\n  switch (tool) {\n    case TOOL_ZOOM_OUT:\n    case TOOL_ZOOM_IN:\n    case TOOL_AUTO:\n    case TOOL_PAN:\n      event.stopPropagation();\n      event.preventDefault();\n      return nextValueFn(event, boundingRect, tool, nextValue, props, touchPosition);\n\n    default:\n      return nextValue;\n  }\n}\n\nexport function onTouchStart(event, boundingRect, matrix, tool, props, mode) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, boundingRect, tool, props);\n  }\n\n  if (event.touches.length !== 1) {\n    if ([MODE_PANNING, MODE_ZOOMING].indexOf(mode) >= 0){\n      return resetMode();\n    } else if([MODE_IDLE].indexOf(mode) >= 0){\n      return {};\n    }\n  }\n\n  return getNextValue(event, boundingRect, tool, props, onMouseDown);\n}\n\nexport function onTouchMove(event, boundingRect, matrix, tool, props, mode) {\n  if (isMultiTouch(event, props)) {\n    return onMultiTouch(event, boundingRect, tool, props);\n  }\n\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(mode) >= 0)) {\n    return {};\n  }\n\n  return getNextValue(event, boundingRect, tool, props, onMouseMove);\n}\n\nexport function onTouchEnd(event, boundingRect, matrix, tool, props, mode, pinchPointDistance) {\n  if (!([MODE_PANNING, MODE_ZOOMING].indexOf(mode) >= 0)) {\n    return {};\n  }\n\n  const nextValue = shouldResetPinchPointDistance(event, pinchPointDistance, props) ? { pinchPointDistance: null } : {};\n\n  if (event.touches.length > 0) {\n    return nextValue;\n  }\n\n  return getNextValue(event, boundingRect, tool, nextValue, props, onMouseUp);\n}\n\nexport function onTouchCancel(event, boundingRect, tool, props) {\n  event.stopPropagation();\n  event.preventDefault();\n\n  return resetMode();\n}\n","//specs: https://developer.mozilla.org/en-US/docs/Web/CSS/cursor\n\nlet needPrefix = (cursor) => ['zoom-in', 'zoom-out', 'grab', 'grabbing'].indexOf(cursor) > -1;\nlet userAgent = () => navigator.userAgent.toLowerCase();\nlet isFirefox = () => userAgent().indexOf('firefox') > -1;\nlet isWebkit = () => userAgent().indexOf('webkit') > -1;\n\nexport default function (cursor) {\n  if (!needPrefix(cursor)) return cursor;\n  if (isFirefox()) return `-moz-${cursor}`;\n  if (isWebkit()) return `-webkit-${cursor}`;\n}\n\n\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT, POSITION_NONE} from '../constants';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_border_gradient'\n\nfunction BorderGradient({direction, width, height, _uid, setAutoPanHover}) {\n  const [hover, setHover] = useState(false)\n  let transform;\n\n  switch (direction) {\n    case POSITION_TOP:\n      transform = `translate(${width}, 0) rotate(90)`;\n      break;\n\n    case POSITION_RIGHT:\n      transform = `translate(${width}, ${height}) rotate(180)`;\n      break;\n\n    case POSITION_BOTTOM:\n      transform = `translate(0, ${height}) rotate(270)`;\n      break;\n\n    case POSITION_LEFT:\n      transform = \" \";\n      break;\n  }\n\n  let gradientID = `${prefixID}_gradient_${_uid}`\n  let maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <linearGradient id={gradientID} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\" spreadMethod=\"pad\">\n          <stop offset=\"0%\" stopColor=\"#fff\" stopOpacity=\"0.8\"/>\n          <stop offset=\"100%\" stopColor=\"#000\" stopOpacity=\"0.5\"/>\n        </linearGradient>\n\n        <mask id={maskID} x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}>\n          <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n                style={{stroke: \"none\", fill: `url(#${gradientID})`}}/>\n        </mask>\n      </defs>\n\n      <rect x=\"0\" y=\"0\" width=\"20\" height={Math.max(width, height)}\n            style={{stroke: \"none\", fill: \"#000\", mask: `url(#${maskID})`, opacity: hover ? 1 : 0}} \n            transform={transform} onMouseEnter={() => {setHover(true); setAutoPanHover(direction)}} onMouseLeave={() => {setHover(false); setAutoPanHover(POSITION_NONE)}} />\n    </g>\n  );\n}\n\nBorderGradient.propTypes = {\n  direction: PropTypes.oneOf([POSITION_TOP, POSITION_RIGHT, POSITION_BOTTOM, POSITION_LEFT]).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired\n};\n\nexport default RandomUID(BorderGradient)\n","//https://facebook.github.io/react/docs/higher-order-components.html#convention-wrap-the-display-name-for-easy-debugging\nexport default function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport calculateBox from '../utils/calculateBox';\n\nexport default function Selection({startX, startY, endX, endY}) {\n  if (!startX || !startY || !endX || !endY) return null;\n\n  let box = calculateBox({x: startX, y: startY}, {x: endX, y: endY});\n\n  return (<rect\n    stroke=\"#969FFF\"\n    strokeOpacity={0.7}\n    fill=\"#F3F4FF\"\n    fillOpacity={0.7}\n    x={box.x}\n    y={box.y}\n    width={box.width}\n    height={box.height}\n    style={{pointerEvents: \"none\"}}/>);\n}\n\nSelection.propTypes = {\n  startX: PropTypes.number,\n  startY: PropTypes.number,\n  endX: PropTypes.number,\n  endY: PropTypes.number\n};\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconCursor() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M10.07,14.27C10.57,14.03 11.16,14.25 11.4,14.75L13.7,19.74L15.5,18.89L13.19,13.91C12.95,13.41 13.17,12.81 13.67,12.58L13.95,12.5L16.25,12.05L8,5.12V15.9L9.82,14.43L10.07,14.27M13.64,21.97C13.14,22.21 12.54,22 12.31,21.5L10.13,16.76L7.62,18.78C7.45,18.92 7.24,19 7,19A1,1 0 0,1 6,18V3A1,1 0 0,1 7,2C7.24,2 7.47,2.09 7.64,2.23L7.65,2.22L19.14,11.86C19.57,12.22 19.62,12.85 19.27,13.27C19.12,13.45 18.91,13.57 18.7,13.61L15.54,14.23L17.74,18.96C18,19.46 17.76,20.05 17.26,20.28L13.64,21.97Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://materialdesignicons.com/icon/cursor-move\n\nexport default function IconPan() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z\"/>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_in\n\nexport default function IconZoomIn() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g>\n        <path\n          d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"/>\n        <path d=\"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z\"/>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n//https://material.io/icons/#ic_zoom_out\n\nexport default function IconZoomOut() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z\"/>\n    </svg>\n  )\n}\n","import React from 'react';\n\n//credits https://materialdesignicons.com/icon/cursor-default-outline\n\nexport default function IconFit() {\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <path\n        d=\"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6z\"/>\n    </svg>\n  );\n}\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  POSITION_TOP, POSITION_BOTTOM\n} from '../constants';\n\nconst ToolbarButton = (props) => {\n  const [hover, setHover] = useState(false)\n\n  function change(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.type) {\n      case 'mouseenter':\n      case 'touchstart':\n        setHover(true);\n        break;\n      case 'mouseleave':\n      case 'touchend':\n      case 'touchcancel':\n        setHover(false);\n        break;\n    }\n  }\n\n  const {title, name, active, toolbarPosition, onClick, children} = props;\n\n  let style = {\n    display: \"block\",\n    width: \"24px\",\n    height: \"24px\",\n    margin: [POSITION_TOP, POSITION_BOTTOM].indexOf(toolbarPosition) >= 0 ? \"2px 1px\" : \"1px 2px\",\n    color: active || hover ? '#1CA6FC' : '#FFF',\n    transition: \"color 200ms ease\",\n    background: \"none\",\n    padding: \"0px\",\n    border: \"0px\",\n    outline: \"0px\",\n    cursor: \"pointer\"\n  };\n\n  return (\n    <button\n      onMouseEnter={e => change(e)}\n      onMouseLeave={e => change(e)}\n\n      onTouchStart={e => {\n        change(e);\n        onClick(e);\n      }}\n      onTouchEnd={e => change(e)}\n      onTouchCancel={e => change(e)}\n\n      onClick={onClick}\n\n      style={style}\n      title={title}\n      name={name}\n      role=\"button\"\n      type=\"button\"\n    >{children}</button>\n  )\n}\n\nToolbarButton.propTypes = {\n  title: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  toolbarPosition: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  active: PropTypes.bool.isRequired\n};\n\nexport default ToolbarButton;\n","//http://stackoverflow.com/a/4819886/1398836\n\nexport default function isTouchDevice() {\n  return 'ontouchstart' in window        // works on most browsers\n    || navigator.maxTouchPoints;       // works on IE10/11 and Surface\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {openMiniature, closeMiniature} from '../features/miniature';\nimport IconArrow from './icon-arrow';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\nexport default function MiniatureToggleButton({position, miniatureOpen, setMiniatureOpen}) {\n  let style = {\n    width: \"24px\",\n    height: \"24px\",\n    display: \"block\",\n    position: \"absolute\",\n    bottom: 0,\n    [position === POSITION_LEFT ? 'left' : 'right']: '0px',\n    background: \"rgba(19, 20, 22, 0.901961)\",\n    border: 0,\n    padding: 0,\n    outline: 0,\n    color: \"#fff\"\n  };\n\n  return (\n    <button role=\"button\" type=\"button\" style={style} onClick={event => setMiniatureOpen(!miniatureOpen)}>\n      <IconArrow open={miniatureOpen} position={position}/>\n    </button>\n  )\n\n}\n\nMiniatureToggleButton.propTypes = {\n  // onChangeValue: PropTypes.func.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {POSITION_RIGHT, POSITION_LEFT} from '../constants';\n\n//credits https://materialdesignicons.com/icon/chevron-up\n\nexport default function IconArrow({open, position}) {\n\n  let transform = 0;\n\n  switch (position){\n    case POSITION_LEFT:\n      transform = open ? \"rotate(225, 12, 13)\" : \"rotate(45, 12, 13)\";\n      break;\n\n    case POSITION_RIGHT:\n      transform = transform = open ? \"rotate(135, 12, 13)\" : \"rotate(-45, 12, 13)\";\n  }\n\n  return (\n    <svg width={24} height={24} stroke=\"currentColor\">\n      <g transform={transform}>\n        <path fill=\"#000000\" d=\"M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z\"/>\n      </g>\n    </svg>\n  );\n}\n\nIconArrow.propTypes = {\n  open: PropTypes.bool.isRequired,\n  position: PropTypes.oneOf([POSITION_RIGHT, POSITION_LEFT]).isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport RandomUID from \"../utils/RandomUID\";\n\nconst prefixID = 'react-svg-pan-zoom_miniature'\n\nfunction MiniatureMask({SVGMinX, SVGMinY, SVGWidth, SVGHeight, x1, y1, x2, y2, zoomToFit, _uid}) {\n  const maskID = `${prefixID}_mask_${_uid}`\n\n  return (\n    <g>\n      <defs>\n        <mask id={maskID}>\n          <rect x={SVGMinX} y={SVGMinY} width={SVGWidth} height={SVGHeight} fill=\"#ffffff\"/>\n          <rect x={x1} y={y1} width={x2 - x1} height={y2 - y1}/>\n        </mask>\n      </defs>\n\n      <rect\n        x={SVGMinX}\n        y={SVGMinY}\n        width={SVGWidth}\n        height={SVGHeight}\n        style={{\n          stroke: \"none\",\n          fill: \"#000\",\n          mask: `url(#${maskID})`,\n          opacity: 0.4\n        }}\n      />\n    </g>)\n}\n\nMiniatureMask.propTypes = {\n  SVGWidth: PropTypes.number.isRequired,\n  SVGHeight: PropTypes.number.isRequired,\n  SVGMinX: PropTypes.number.isRequired,\n  SVGMinY: PropTypes.number.isRequired,\n  x1: PropTypes.number.isRequired,\n  y1: PropTypes.number.isRequired,\n  x2: PropTypes.number.isRequired,\n  y2: PropTypes.number.isRequired,\n  zoomToFit: PropTypes.number.isRequired,\n}\n\nexport default RandomUID(MiniatureMask)\n","import React, {forwardRef, useState} from \"react\";\nimport ReactSVGPanZoom from './viewer'\nimport PropTypes from \"prop-types\";\nimport {TOOL_NONE} from \"./constants\";\n\nconst UncontrolledReactSVGPanZoom = forwardRef((props, Viewer) => {\n  // const [value, setValue] = useState(props.defaultValue || {});\n  const [tool, setTool] = useState(props.defaultTool || TOOL_NONE);\n\n  const {width, height, onChangeTool, onChangeValue, ...svgProps} = props;\n\n  return (\n    <ReactSVGPanZoom\n      width={width} height={height}\n      tool={tool} onChangeTool={setTool}\n      // value={value} onChangeValue={setValue}\n      ref={Viewer}\n      {...svgProps}\n    />\n  )\n})\n\nUncontrolledReactSVGPanZoom.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n\n  // defaultValue: PropTypes.object,\n  defaultTool: PropTypes.string,\n}\n\nexport default UncontrolledReactSVGPanZoom;\n"],"sourceRoot":""}